(this["webpackJsonpdemo-fleet-management"]=this["webpackJsonpdemo-fleet-management"]||[]).push([[0],{135:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),o=n.n(c),s=(n(135),n(119)),i=n(286),l=n(15),u=n(7),d=n.n(u),b=n(12),j=n(10),f=n(268),h=n(285),p=n(270),m=n(244),x=n(123),O=n(272),g=n(1),v=Object(f.a)({container:{backgroundColor:"#fff",borderBottom:"1px solid rgba(197, 200, 209, .5)",padding:"0.5rem 1rem"},logo:{height:"32px",margin:"0 1rem 0 0",padding:"0 0 0.25rem",width:"128px"},heading:{color:"#4D4DAD",fontSize:"1rem",fontWeight:"700 !important",lineHeight:"32px",margin:"0 0.5rem 0 0",whiteSpace:"nowrap"},subheading:{color:"#535968",fontSize:"1rem",fontWeight:"400 !important",lineHeight:"32px",margin:"0",whiteSpace:"nowrap"},aboutButton:{textTransform:"none",whiteSpace:"nowrap"}}),w=function(){var e=v();return Object(g.jsxs)(p.a,{alignItems:"center",className:e.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap",children:[Object(g.jsxs)(p.a,{container:!0,justify:"flex-start",alignItems:"center",wrap:"nowrap",children:[Object(g.jsx)("img",{alt:"Macrometa",className:e.logo,src:"data:image/png;base64,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"}),Object(g.jsx)(x.a,{variant:"h1",className:e.heading,children:"Realtime Fleet Management"}),Object(g.jsx)(x.a,{className:e.subheading,children:"Simple, secure and scalable realtime fleet management."})]}),Object(g.jsx)(p.a,{container:!0,justify:"flex-end",alignItems:"center",wrap:"nowrap",children:Object(g.jsx)(O.a,{className:e.aboutButton,onClick:function(){window.open("https://github.com/Macrometacorp/demo-fleet-management","_blank")},variant:"contained",children:"Source on GitHub"})})]})},A=n(273),C=Object(f.a)({root:{backgroundColor:"#fff",borderBottom:"1px solid rgba(197, 200, 209, .5)",padding:"0.5rem 1rem"},actionButton:{marginRight:"0.5rem","& .MuiButton-label":{textTransform:"uppercase"}}}),k=function(e){var t=e.isStreamStarted,n=e.handleOnStart,a=e.isStartButtonDisabled,r=e.handleOnStop,c=e.isStopButtonDisabled,o=e.handleOnClear,s=e.isClearButtonDisabled,i=C();return Object(g.jsx)("div",{className:i.root,children:t?Object(g.jsx)(O.a,{className:i.actionButton,color:"primary",disabled:c,onClick:r,variant:"contained",children:c?Object(g.jsx)(A.a,{size:24}):"Stop"}):Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(O.a,{className:i.actionButton,color:"primary",disabled:a,onClick:n,variant:"contained",children:a?Object(g.jsx)(A.a,{size:24}):"Start"}),Object(g.jsx)(O.a,{className:i.actionButton,disabled:t,onClick:o,variant:"contained",children:s?Object(g.jsx)(A.a,{size:24}):"Initialize"})]})})},y=n(274),S=Object(f.a)({root:{top:"auto !important",backgroundColor:"white",bottom:0,alignItems:"end"},poweredByBtn:{color:"rgba(33, 33, 33, 0.6) !important",marginRight:"8px"},logo:{paddingRight:"4px",height:"30px",width:"30px"}}),B=function(){var e=S();return Object(g.jsx)(y.a,{position:"fixed",className:e.root,children:Object(g.jsx)(O.a,{variant:"text",className:e.poweredByBtn,children:"Powered By Macrometa"})})},I=n(120),F=n(290),M=n(275),D=Object(f.a)({actionButton:{backgroundColor:"#fff",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)"}});function R(e){var t=e.setChartFilter,n=Object(a.useState)("week"),r=Object(j.a)(n,2),c=r[0],o=r[1],s=D();return Object(a.useEffect)((function(){t(c)}),[c]),Object(g.jsxs)(F.a,{value:c,exclusive:!0,onChange:function(e,t){return o(t)},"aria-label":"text alignment",style:{margin:"15px 0px"},children:[Object(g.jsx)(M.a,{value:"week",className:s.actionButton,children:"Week"}),Object(g.jsx)(M.a,{value:"month",className:s.actionButton,children:"Month"}),Object(g.jsx)(M.a,{value:"year",className:s.actionButton,children:"Year"})]})}var E=n(66),N=n.n(E),W={gdnURL:"https://".concat("gdn.paas.macrometa.io"),apiKey:"demo-fleet1-management_macrometa.io.test_nobu_key.5ld2YgL6aGzRyXQTWWPps2doQJjVK0N3ikTXFTFXzK5JR0ALNhanPXbiIABG05JF361c0a",fabricName:"_system"},z=n(287),P=n(39),V=n.n(P),q="maintenance_centers",X="planned_maintenance",H="telematics",L="get_telematics_30_days",K="get_top5_maintenance_centers_for_city",Y="get_asset_details",Q="get_fleet_stats_chart_data",T="enriched-telematics",Z=["load_maintenance_centers","load_planned_maintenance","load_telematics","load_area_issue_counts","load_issue_counts","load_vehicle_issue_counts","load_fleet_stats_counts"],_=[q,X,H,"unplanned_maintenance","issue_counts","area_issue_counts","fleet_stats","vehicle_issue_counts"],U=["insights-worker","fleet-stats-worker","telematics-worker","telematics-simulator"],J=new N.a({url:W.gdnURL,apiKey:"".concat(W.apiKey),fabricName:W.fabricName}),G=z.a("Critical_Status"),$=z.a("Attention_Required"),ee=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"London",e.prev=1,e.next=4,J.executeRestql(K,{City:t});case 4:return n=e.sent,a=n.result,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),te=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.executeRestql(L);case 3:return t=e.sent,n=t.result,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.executeRestql(Y,{Asset:t});case 3:return n=e.sent,a=n.result,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.executeRestql("insert_unplanned_maintenance",t);case 3:return n=e.sent,a=n.result,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.executeRestql("get_telematic_insights");case 3:return t=e.sent,n=t.result,a=Object(j.a)(n,1),r=a[0],e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.executeRestql("get_fleet_stats");case 3:return t=e.sent,n=t.result,a=Object(j.a)(n,1),r=a[0],e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r,c=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"week",e.prev=1,n={week:{},year:{},month:{},all:{}},e.next=5,J.executeRestql(Q);case 5:return a=e.sent,(r=a.result)&&(r=r.forEach((function(e){e&&e.last_week&&(n.week.dataset1=G(e.last_week),n.week.dataset2=$(e.last_week),n.week.label=z.a("Date")(e.last_week)),e&&e.last_month&&(e.last_month.sort((function(e,t){return V()(e.Month,"MMM-YYYY").valueOf()-V()(t.Month,"MMM-YYYY").valueOf()})),n.month.dataset1=G(e.last_month),n.month.dataset2=$(e.last_month),n.month.label=z.a("Month")(e.last_month)),e&&e.last_year&&(n.year.dataset1=G(e.last_year),n.year.dataset2=$(e.last_year),n.year.label=z.a("Year")(e.last_year))}))),e.abrupt("return",n[t]);case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r=arguments;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,n=U,!1===t&&n.reverse(),a=[],n.forEach((function(e){a.push(J.activateStreamApp(e,t))})),e.next=8,Promise.all(a);case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.error("Failed start ot stop strams",e.t0.message),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,l,u;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=J._connection._urls[0],r=J._connection._headers,e.next=5,fetch("".concat(a,"/apid/otp"),{method:"POST",headers:r});case 5:return c=e.sent,e.next=8,c.json();case 8:o=e.sent,s=a.replace("https://",""),i=J._connection._tenantName,l="c8global.".concat(J._connection._fabricName),u="c8globals.".concat(t),n=new WebSocket("wss://".concat(s,"/_ws/ws/v2/reader/persistent/").concat(i,"/").concat(l,"/").concat(u,"?messageId=latest&otp=").concat(o.otp)),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0);case 19:return e.abrupt("return",n);case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),le=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},ue=Object(f.a)({root:{flexDirection:"column",display:"flex"},securitiesSelect:{width:"12rem"},selectGrid:{paddingBottom:"1rem"},selectLabel:{paddingRight:"1rem",fontSize:"1.5rem"},chartCanvas:{height:"19.5rem"},heading:{margin:"10px",fontSize:"28px",fontWeight:600}}),de=function(){var e=Object(a.useRef)(null),t=ue(),n=Object(a.useState)("week"),r=Object(j.a)(n,2),c=r[0],o=r[1],s=Object(a.useState)({}),i=Object(j.a)(s,2),l=i[0],u=i[1],f=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){f(c)}),[c]),le((function(){f(c)}),1e4),Object(a.useEffect)((function(){var e=h(l);return function(){e.destroy()}}),[e.current,l]);var h=function(t){return new I.a(e.current,{type:"line",options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},elements:{point:{radius:1}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}},data:{labels:t.label,datasets:[{label:" Critical",data:t.dataset1,borderColor:"red",borderWidth:2},{label:" Attention",data:t.dataset2,borderColor:"#d8d800",borderWidth:2}]}})};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:t.root,children:[Object(g.jsx)(p.a,{container:!0,alignItems:"center",children:Object(g.jsx)(p.a,{item:!0,children:Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("span",{style:{fontSize:40},children:"\ud83d\ude9a"}),Object(g.jsx)("h3",{className:t.heading,children:"Fleet Status"})]})})}),Object(g.jsx)("div",{className:t.chartCanvas,children:Object(g.jsx)("canvas",{ref:e})}),Object(g.jsx)(R,{setChartFilter:o})]})})},be=n(276),je=n(277),fe=n(278),he=n(279),pe=n(280),me=n(112),xe=n.n(me),Oe=n(113),ge=n.n(Oe),ve=Object(f.a)({tableCell:{padding:"1.9px 10px",border:"1px solid"}});function we(){var e=ve(),t=Object(a.useState)({}),n=Object(j.a)(t,2),r=n[0],c=n[1],o=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load the insigths",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){o()}),[]),le(o,3e3);var s={Attention_Required:Object(g.jsxs)(g.Fragment,{children:["Attention required ",Object(g.jsx)("br",{})," (Last 7 days)"]}),Critical_Status:Object(g.jsxs)(g.Fragment,{children:["Critical Status ",Object(g.jsx)("br",{})," (Last 7 days)"]}),Fleet_Health:Object(g.jsxs)(g.Fragment,{children:["Fleet Health ",Object(g.jsx)("br",{})," (Last 7 days)"]}),Unplanned_Maintenance:Object(g.jsxs)(g.Fragment,{children:["Unplanned Maintenance ",Object(g.jsx)("br",{})," (Last 7 days)"]}),Planned_Maintenance:Object(g.jsxs)(g.Fragment,{children:["Planned Maintenance ",Object(g.jsx)("br",{})," (Next 7 days)"]})};return Object(g.jsx)(be.a,{component:m.a,children:Object(g.jsx)(je.a,{className:e.table,"aria-label":"custom pagination table",children:Object(g.jsx)(fe.a,{children:Object.keys(s)&&Object.keys(s).map((function(t,n){return Object(g.jsxs)(he.a,{children:[Object(g.jsx)(pe.a,{className:e.tableCell,children:s[t]}),Object(g.jsx)(pe.a,{className:e.tableCell,style:{width:"50px"},children:r&&r[t]&&"Up"===r[t].arrow?Object(g.jsx)(xe.a,{style:{fontSize:50}}):Object(g.jsx)(ge.a,{style:{fontSize:50}})}),Object(g.jsx)(pe.a,{className:e.tableCell,children:Object(g.jsx)("b",{style:{color:"".concat(r&&r[t]&&"Up"===r[t].arrow?"green":"red")},children:r&&r[t]&&r[t][t]})})]},Math.random())}))})})})}var Ae=Object(f.a)({tableCell:{padding:"0.7rem",border:"1px solid"},heading:{margin:"10px",fontSize:"28px",fontWeight:400}}),Ce={Vehicle_With_Most_Frequent_Issues:"Vechicle with most frequent issue",Most_Common_Alert:"Most Common Alert",Total_Cost_Of_Unplanned_Maintenance:"Total Cost of Unplanned Maintenance",Area_With_Most_Alerts:"Area with most Alerts",Least_Cost_Effective_Vehicle:"Least Cost Effective Vehicle"};function ke(){var e=Ae(),t=Object(a.useState)({}),n=Object(j.a)(t,2),r=n[0],c=n[1],o=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load the insigths",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){o()}),[]),le(o,3e3),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{style:{display:"flex",marginBottom:"10px"},children:[Object(g.jsx)("span",{style:{fontSize:40},children:"\ud83d\udd0d"}),Object(g.jsx)("h3",{className:e.heading,children:" Insights"})]}),Object(g.jsx)(be.a,{component:m.a,children:Object(g.jsx)(je.a,{className:e.table,"aria-label":"custom pagination table",children:Object(g.jsx)(fe.a,{children:Object.keys(Ce)&&Object.keys(Ce).map((function(t){return Object(g.jsxs)(he.a,{children:[Object(g.jsx)(pe.a,{className:e.tableCell,children:Ce[t]}),Object(g.jsx)(pe.a,{className:e.tableCell,children:r&&r.hasOwnProperty(t)?r[t]:"-"}),Object(g.jsx)(pe.a,{className:e.tableCell,children:"investigate"})]},Math.random())}))})})})]})}var ye=n(24),Se=n(281),Be=n(289),Ie={backgroundColor:"#4b81c3",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)",color:"#ffffff",borderRadius:0,"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},Fe=function(e){var t=V()(e),n=V()();return t.from(n)},Me=function(e){if(e)return V()(e).format("D MMM YYYY")},De=function(){return Math.floor(1e6+9e5*Math.random())},Re=Object(f.a)((function(e){return{actionButton:{backgroundColor:"#ffffff",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)",borderRadius:0},activeActionButton:Ie,root:{display:"flex","& > *":{marginRight:"10px",marginTop:"0.6rem",flex:1,padding:"5px 0px"}}}}));function Ee(e){var t=e.stats,n=e.setAlterFilter,r=Re(),c=Object(a.useState)("all"),o=Object(j.a)(c,2),s=o[0],i=o[1],l=t.all,u=t.critical,d=t.attention,b=t.booked,f=t.unbooked,h=function(e){return"".concat(s===e?r.activeActionButton:r.actionButton)};return Object(a.useEffect)((function(){n(s)}),[s]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:r.root,children:[Object(g.jsxs)(O.a,{variant:"outlined",onClick:function(){return i("all")},className:h("all"),children:["All (",l,")"]}),Object(g.jsxs)(O.a,{variant:"outlined",onClick:function(){return i("critical")},className:h("critical"),children:["Critical (",u,")"]}),Object(g.jsxs)(O.a,{variant:"outlined",onClick:function(){return i("attention")},className:h("attention"),children:["Attention (",d,")"]}),Object(g.jsxs)(O.a,{variant:"outlined",onClick:function(){return i("booked")},className:h("booked"),children:["Booked (",b,")"]}),Object(g.jsxs)(O.a,{variant:"outlined",onClick:function(){return i("unbooked")},className:h("unbooked"),children:["To be Booked (",f,")"]})]})})}var Ne=Object(f.a)({table:{minWidth:650},root:{paddingTop:"1rem"},pagination:{borderRadius:"none"},activeActionButton:Object(ye.a)(Object(ye.a)({},Ie),{},{width:"4rem"}),heading:{margin:"10px",fontSize:"28px",fontWeight:600}});function We(e){var t=e.alertsData,n=e.setOpenModal,c=Ne(),o=Object(a.useState)({all:0,critical:0,attention:0,booked:0}),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(a.useState)("all"),d=Object(j.a)(u,2),b=d[0],f=d[1],h=Object(a.useState)([]),p=Object(j.a)(h,2),x=p[0],v=p[1],w=Object(a.useState)([]),A=Object(j.a)(w,2),C=A[0],k=A[1],y=Object(a.useState)([]),S=Object(j.a)(y,2),B=S[0],I=S[1],F=r.a.useState(1),M=Object(j.a)(F,2),D=M[0],R=M[1];return Object(a.useEffect)((function(){var e=function(e,t){var n,a,r=[],c=t;for(n=0,a=e.length;n<a;n+=c)r.push(e.slice(n,n+c));return r}(C.filter((function(e){var t=b.toLowerCase();return"all"===t||("booked"===t?"yes"===e.Maintenance_Planned.toLowerCase():"unbooked"===t?"no"===e.Maintenance_Planned.toLowerCase():e.Status_Level.toLowerCase()===t)})),8);v(e),I(e[D-1|0]),e.length<D?R(1):R(D)}),[b,C]),Object(a.useEffect)((function(){I(x[D-1])}),[D]),Object(a.useEffect)((function(){k(t)}),[t]),Object(a.useEffect)((function(){var e={all:C.length,critical:0,attention:0,booked:0,unbooked:0};C.forEach((function(t){"yes"===t.Maintenance_Planned.toLowerCase()&&(e.booked+=1),"no"===t.Maintenance_Planned.toLowerCase()&&(e.unbooked+=1),"critical"===t.Status_Level.toLowerCase()&&(e.critical+=1),"attention"===t.Status_Level.toLowerCase()&&(e.attention+=1)})),l(e)}),[C]),Object(g.jsxs)(g.Fragment,{children:[Object(g.jsxs)("div",{style:{display:"flex"},children:[Object(g.jsx)("span",{style:{fontSize:40},children:"\ud83d\udd14"}),Object(g.jsx)("h3",{className:c.heading,children:"Alerts"})]}),Object(g.jsx)(Ee,{stats:i,setAlterFilter:f}),Object(g.jsx)("div",{className:c.root,children:Object(g.jsxs)(be.a,{component:m.a,children:[Object(g.jsxs)(je.a,{className:c.table,"aria-label":"simple table",children:[Object(g.jsx)(Se.a,{children:Object(g.jsxs)(he.a,{children:[Object(g.jsx)(pe.a,{style:{width:"5rem"},children:"Vehicle ID"}),Object(g.jsx)(pe.a,{align:"center",children:"Alert \xa0 Description"}),Object(g.jsx)(pe.a,{align:"center",children:"Date \xa0 Logged"}),Object(g.jsx)(pe.a,{align:"center",children:"Status level"}),Object(g.jsx)(pe.a,{align:"center",children:"Maintenance \xa0 Planned"}),Object(g.jsx)(pe.a,{align:"center",style:{width:"5rem"},children:"Action"})]})}),Object(g.jsx)(fe.a,{children:B&&B.map((function(e,t){return Object(g.jsxs)(he.a,{style:t%2?{background:"rgb(208 225 243)"}:{},children:[Object(g.jsx)(pe.a,{align:"center",children:e.Asset}),Object(g.jsx)(pe.a,{align:"center",children:e.Fault}),Object(g.jsx)(pe.a,{align:"center",children:Fe(e.Timestamp)}),Object(g.jsx)(pe.a,{align:"center",style:{color:"".concat("Critical"===e.Status_Level?"red":"")},children:e.Status_Level}),Object(g.jsx)(pe.a,{align:"center",children:e.Maintenance_Planned}),Object(g.jsx)(pe.a,{align:"center",children:"yes"===e.Maintenance_Planned.toLowerCase()?Object(g.jsxs)(g.Fragment,{children:["Booked",Object(g.jsx)("br",{}),Me(e.Booked_In)]}):Object(g.jsx)(O.a,{variant:"contained",color:"primary",className:c.activeActionButton,style:{padding:"0px"},onClick:function(){return n({status:!0,data:e})},children:"Book"})})]},Math.random())}))})]}),Object(g.jsx)(Be.a,{className:c.pagination,count:x.length,showFirstButton:!0,showLastButton:!0,page:D,onChange:function(e,t){R(t)}})]})})]})}var ze=new N.a({url:W.gdnURL,apiKey:"".concat(W.apiKey),fabricName:W.fabricName}),Pe=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Xe(!1);case 3:return e.next=5,se();case 5:return e.next=7,Ve();case 7:return e.next=9,qe();case 9:return e.next=11,Xe(!0);case 11:t(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Failed to intialize",e.t0.message),t(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=_.map((function(e){return ze.collection(e).truncate()})),e.next=4,Promise.all(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to truncate",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),qe=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Z.slice(0,2).map((function(e){return ze.executeRestql(e)})),e.next=4,Promise.all(t);case 4:return e.next=6,ze.executeRestql(Z[2]);case 6:return n=Z.slice(3).map((function(e){return ze.executeRestql(e)})),e.next=9,Promise.all(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Failed to load",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(b.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.executeRestql("on_ready",{status:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Failed to onReady",e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ze.executeRestql("is_demo_ready");case 3:return t=e.sent,n=t.result,a=Object(j.a)(n,1),r=a[0],e.abrupt("return",r&&r.ready||!1);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Failed to onReady",e.t0.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Le=n(288),Ke=n(282),Ye=n(283),Qe=n(284),Te=n(115),Ze=n.n(Te),_e=(n(195),Object(f.a)({table:{minWidth:650},activeActionButton:Object(ye.a)(Object(ye.a)({},Ie),{},{width:"5rem"}),pagination:{borderRadius:"none"}}));function Ue(e){var t=e.handleSelect,n=e.alertData,r=_e(),c=Object(a.useState)({}),o=Object(j.a)(c,2),s=o[0],i=o[1],l=Object(a.useState)([]),u=Object(j.a)(l,2),f=u[0],h=u[1],p=Object(a.useState)(!1),v=Object(j.a)(p,2),w=v[0],A=v[1],C=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee(t);case 3:n=e.sent,h(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load maintenace centers",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.City;C(e),document.querySelector(".react-datepicker-wrapper").style.visibility="hidden",document.querySelector(".react-datepicker-wrapper").style.width="64px"}),[]),Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(x.a,{component:"div",className:r.root,children:Object(g.jsx)(be.a,{component:m.a,children:Object(g.jsxs)(je.a,{className:r.table,"aria-label":"simple table",children:[Object(g.jsx)(Se.a,{children:Object(g.jsxs)(he.a,{children:[Object(g.jsx)(pe.a,{children:"Maintenance Center"}),Object(g.jsx)(pe.a,{align:"center",children:"Rating"}),Object(g.jsx)(pe.a,{align:"center",children:"City"}),Object(g.jsx)(pe.a,{align:"center",children:"Estimated Time"}),Object(g.jsx)(pe.a,{align:"center",children:"Estimated Cost"}),Object(g.jsxs)(pe.a,{align:"center",children:["Select",Object(g.jsx)(Ze.a,{minDate:new Date,ref:function(e){k.current=e},onChange:function(e){t({date:e,maintenaceData:s})}})]})]})}),Object(g.jsx)(fe.a,{children:f&&f.map((function(e,t){return Object(g.jsxs)(he.a,{style:t%2?{background:"rgb(208 225 243)"}:{},children:[Object(g.jsx)(pe.a,{align:"center",children:e.Name}),Object(g.jsxs)(pe.a,{align:"center",children:[e.Rating,"/5.0"]}),Object(g.jsx)(pe.a,{align:"center",children:e.City}),Object(g.jsxs)(pe.a,{align:"center",children:[e.Estimated_Time,"  ",1===e.Estimated_Time?"Day":"Days"]}),Object(g.jsxs)(pe.a,{align:"center",children:["$",e.Estimated_Cost]}),Object(g.jsx)(pe.a,{align:"center",children:Object(g.jsx)(O.a,{variant:"contained",color:"primary",style:{padding:"0px"},className:r.activeActionButton,onClick:function(){return function(e){i(e),k.current.setOpen(!0),A(!w)}(e)},children:"Select"})})]},Math.random())}))})]})})})})}var Je=n(118),Ge=n.n(Je),$e={cursor:"pointer",float:"right",marginTop:"5px",width:"50px"},et=r.a.memo((function(e){var t=e.openModal,n=e.closeModal,c=e.handleSelect,o=r.a.useState(!1),s=Object(j.a)(o,2),i=s[0],l=s[1],u=Object(a.useState)({status:!1,data:{}}),d=Object(j.a)(u,2),b=d[0],f=d[1];Object(a.useEffect)((function(){l(t.status),f(t.data)}),[t.status]);var h=function(){l(!1),n()},p=function(e){l(!1),n(),c(Object(ye.a)(Object(ye.a)({},e),{},{_key:b._key,data:b}))},m=b.Asset;return Object(g.jsx)(r.a.Fragment,{children:Object(g.jsxs)(Le.a,{fullWidth:!0,maxWidth:"md",open:i,onClose:h,"aria-labelledby":"max-width-dialog-title",children:[Object(g.jsxs)(Ke.a,{id:"max-width-dialog-title",children:[m,Object(g.jsx)(Ge.a,{fontSize:"large",onClick:h,style:$e})]}),Object(g.jsx)(Ye.a,{children:Object(g.jsx)(Qe.a,{children:Object(g.jsx)(Ue,{alertData:b,handleSelect:function(e){return p(e)}})})})]})})})),tt=Object(f.a)({root:{backgroundColor:"#F1F2F4",minHeight:"100vh",padding:"0"},aboutButton:{top:"1.1rem",right:"2rem",position:"absolute",backgroundColor:"rgb(208 225 243)",boxShadow:"none",border:"1px solid rgb(169,169,169)"}}),nt=function(){var e=tt(),t=Object(a.useState)(!1),n=Object(j.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(!1),s=Object(j.a)(o,2),i=s[0],u=s[1],f=Object(a.useState)(!1),x=Object(j.a)(f,2),O=x[0],v=x[1],A=Object(a.useState)(!1),C=Object(j.a)(A,2),y=C[0],S=C[1],I=Object(a.useState)(!0),F=Object(j.a)(I,2),M=(F[0],F[1]),D=Object(a.useState)([]),R=Object(j.a)(D,2),E=R[0],N=R[1],W=Object(a.useState)({status:!1,data:{}}),z=Object(j.a)(W,2),P=z[0],V=z[1],q=Object(a.useRef)(null),X=function(e){return e.preventDefault(),K(),e.returnValue="",""};Object(a.useEffect)((function(){return window.addEventListener("beforeunload",X),function(){window.removeEventListener("beforeunload",X)}}),[]);var H=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He();case 2:(t=e.sent)||N([]),M(!t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(d.a.mark((function e(t){var n,a,r,c,o,s,i,l,u,b,f,h,p;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.data,a=n.Asset,r=n.Fault,c=t.date,o=t.maintenaceData,e.next=5,ne(a);case 5:return s=e.sent,i=Object(j.a)(s,1),l=i[0],u=l.Driver,b=l.Vehicle_Model,f=o.Estimated_Cost,h=new Date(c),p={Asset:a,Booked_In:h.toISOString(),Invoice_Number:De(),Cost_Center:De(),Vehicle_Model:b,Driver:u,Work_Description:r,Work_Cost:f},e.next=14,ae(p);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Failed to book maintenance",e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){H()}),[i,O,y]);var K=function(){v(!0),Z()},Y=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Pe(S);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(b.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te();case 3:t=e.sent,n=(n=Object(l.a)(t)).filter((function(e){return e})).filter((function(e){return Object.keys(e).length>0})),n=Object(l.a)(new Map(n.map((function(e){return[e._key,e]}))).values()),N(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("falied to load maintenace centers",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){y||Q()}),[y]);var Z=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,q.current.close(),e.next=4,se();case 4:e.sent&&c(!1),v(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Failed to close steam and webscoker",e.t0.message);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(b.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se(!0);case 3:if(!e.sent){e.next=10;break}return e.next=7,U(T);case 7:t=e.sent,q.current=t,c(!0);case 10:u(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Failed to close steam and webscoket",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(t);case 3:return(n=e.sent).onopen=function(){return console.info("Connection open for ".concat(t))},n.onerror=function(e){return console.error("Connection error for ".concat(t),e)},n.onclose=function(){return console.info("Connection close for ".concat(t))},n.onmessage=function(e){n.send(JSON.stringify({messageId:JSON.parse(e.data).messageId})),J(e.data,T)},e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),J=function(e,t){var n=[],a=function(e){var t=JSON.parse(e).payload,n=JSON.parse(e).messageId,a=atob(t);return 0===a.length?{newData:{},messageId:n}:{newData:JSON.parse(a),messageId:n}}(e).newData,r=void 0===a?{}:a;r&&0!==Object.keys(r).length&&(r._key=De(),n.push(r),N((function(e){return[].concat(n,Object(l.a)(e))})))};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(h.a,{className:e.root,maxWidth:!1,children:[Object(g.jsx)(w,{}),Object(g.jsx)(k,{handleOnClear:Y,handleOnStart:function(){u(!0),_()},handleOnStop:K,isStartButtonDisabled:i,isStopButtonDisabled:O,isClearButtonDisabled:y,isStreamStarted:r}),Object(g.jsxs)(p.a,{container:!0,alignItems:"flex-start",children:[Object(g.jsx)(p.a,{item:!0,xs:6,children:Object(g.jsx)(m.a,{style:{margin:"0.75rem",padding:"0.75rem 2rem 2rem 2rem"},children:Object(g.jsxs)(p.a,{container:!0,alignItems:"flex-start",children:[Object(g.jsx)(p.a,{item:!0,xs:6,style:{paddingRight:"2rem"},children:Object(g.jsx)(de,{})}),Object(g.jsx)(p.a,{item:!0,xs:6,style:{marginTop:"4rem"},children:Object(g.jsx)(we,{})}),Object(g.jsx)(p.a,{item:!0,xs:12,style:{marginTop:"1rem"},children:Object(g.jsx)(ke,{})})]})})}),Object(g.jsx)(p.a,{item:!0,xs:6,children:Object(g.jsx)(m.a,{style:{margin:"0.75rem",padding:"0.75rem 2rem 2rem 2rem"},children:Object(g.jsx)(We,{alertsData:E,setOpenModal:V})})})]}),Object(g.jsx)(et,{openModal:P,closeModal:function(){return V({status:!1,data:{id:0}})},handleSelect:function(e){return function(e){var t=E.map((function(t){if(t._key===e._key){t.Maintenance_Planned="Yes";var n=new Date(e.date);t.Booked_In=n.toISOString()}return t}));N(t),L(e)}(e)}}),Object(g.jsx)(B,{})]})})},at=Object(s.a)({typography:{fontFamily:["Lato","sans-serif"].join(",")},overrides:{MuiTableCell:{root:{padding:"0.8rem"},stickyHeader:{backgroundColor:"#d0e0f3"},head:{color:"#ffffff",fontWeight:900}},MuiTypography:{root:{fontWeight:"600 !important"}},MuiButton:{contained:{backgroundColor:"#E1E1FA",boxShadow:"none",color:"#4D4DAD","&:hover, &:focus, &:active":{backgroundColor:"#C2C2F5",boxShadow:"0 2px 5px rgba(133, 133, 235, .35)",color:"#343473"},"&:disabled":{backgroundColor:"#E2E4E8",color:"#535968"}},containedPrimary:{backgroundColor:"#6767E6",color:"#FFF","&:hover, &:focus, &:active":{backgroundColor:"#4D4DAD",color:"#FFF"}},label:{textTransform:"capitalize",fontWeight:"700"}},MuiFormControl:{root:{height:"56px"}},MuiInputLabel:{outlined:{transform:"translate(14px, 0.7rem) scale(1)"}},MuiOutlinedInput:{input:{padding:"0.65rem 14px"}},MuiPaginationItem:{root:{borderRadius:"0px"},page:{padding:"23px","&$selected":{backgroundColor:"#4b81c3",color:"#ffffff","&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}}},MuiToggleButton:{root:{"&$selected":{backgroundColor:"#4b81c3",color:"#ffffff","&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}}},MuiTableHead:{root:{backgroundColor:"#4b81c3"}},MuiTableContainer:{root:{overflowX:"inherit"}}}}),rt=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(i.a,{theme:at,children:Object(g.jsx)(nt,{})})})},ct=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,291)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,o=t.getTTFB;n(e),a(e),r(e),c(e),o(e)}))};o.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(rt,{})}),document.getElementById("root")),ct()}},[[240,1,2]]]);
//# sourceMappingURL=main.cf62ed8a.chunk.js.map