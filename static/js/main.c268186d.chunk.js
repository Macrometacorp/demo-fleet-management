(this["webpackJsonpdemo-fleet-management"]=this["webpackJsonpdemo-fleet-management"]||[]).push([[0],{136:function(e,t,n){},241:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(17),s=n.n(c),o=(n(136),n(120)),i=n(287),l=n(14),u=n(16),d=n(7),b=n.n(d),j=n(12),f=n(10),h=n(269),p=n(286),m=n(271),x=n(245),O=n(124),g=n(273),v=n(1),w=Object(h.a)({container:{backgroundColor:"#fff",borderBottom:"1px solid rgba(197, 200, 209, .5)",padding:"0.5rem 1rem"},logo:{height:"32px",margin:"0 1rem 0 0",padding:"0 0 0.25rem",width:"128px"},heading:{color:"#4D4DAD",fontSize:"1rem",fontWeight:"700 !important",lineHeight:"32px",margin:"0 0.5rem 0 0",whiteSpace:"nowrap"},subheading:{color:"#535968",fontSize:"1rem",fontWeight:"400 !important",lineHeight:"32px",margin:"0",whiteSpace:"nowrap"},aboutButton:{textTransform:"none",whiteSpace:"nowrap"}}),A=function(){var e=w();return Object(v.jsxs)(m.a,{alignItems:"center",className:e.container,container:!0,direction:"row",justify:"space-between",wrap:"nowrap",children:[Object(v.jsxs)(m.a,{container:!0,justify:"flex-start",alignItems:"center",wrap:"nowrap",children:[Object(v.jsx)("img",{alt:"Macrometa",className:e.logo,src:"data:image/png;base64,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"}),Object(v.jsx)(O.a,{variant:"h1",className:e.heading,children:"Realtime Fleet Management"}),Object(v.jsx)(O.a,{className:e.subheading,children:"Simple, secure and scalable realtime fleet management."})]}),Object(v.jsx)(m.a,{container:!0,justify:"flex-end",alignItems:"center",wrap:"nowrap",children:Object(v.jsx)(g.a,{className:e.aboutButton,onClick:function(){window.open("https://github.com/Macrometacorp/demo-fleet-management","_blank")},variant:"contained",children:"Source on GitHub"})})]})},C=n(274),k=Object(h.a)({root:{backgroundColor:"#fff",borderBottom:"1px solid rgba(197, 200, 209, .5)",padding:"0.5rem 1rem"},actionButton:{marginRight:"0.5rem","& .MuiButton-label":{textTransform:"uppercase"}}}),y=function(e){var t=e.isStreamStarted,n=e.handleOnStart,a=e.isStartButtonDisabled,r=e.handleOnStop,c=e.isStopButtonDisabled,s=e.handleOnClear,o=e.isClearButtonDisabled,i=k();return Object(v.jsx)("div",{className:i.root,children:t?Object(v.jsx)(g.a,{className:i.actionButton,color:"primary",disabled:c,onClick:r,variant:"contained",children:c?Object(v.jsx)(C.a,{size:24}):"Stop"}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(g.a,{className:i.actionButton,color:"primary",disabled:a,onClick:n,variant:"contained",children:a?Object(v.jsx)(C.a,{size:24}):"Start"}),Object(v.jsx)(g.a,{className:i.actionButton,disabled:t,onClick:s,variant:"contained",children:o?Object(v.jsx)(C.a,{size:24}):"Initialize"})]})})},S=n(275),B=Object(h.a)({root:{top:"auto !important",backgroundColor:"white",bottom:0,alignItems:"end"},poweredByBtn:{color:"rgba(33, 33, 33, 0.6) !important",marginRight:"8px"},logo:{paddingRight:"4px",height:"30px",width:"30px"}}),I=function(){var e=B();return Object(v.jsx)(S.a,{position:"fixed",className:e.root,children:Object(v.jsx)(g.a,{variant:"text",className:e.poweredByBtn,children:"Powered By Macrometa"})})},F=n(121),M=n(291),D=n(276),R=Object(h.a)({actionButton:{backgroundColor:"#fff",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)"}});function E(e){var t=e.setChartFilter,n=Object(a.useState)("week"),r=Object(f.a)(n,2),c=r[0],s=r[1],o=R();return Object(a.useEffect)((function(){t(c)}),[c]),Object(v.jsxs)(M.a,{value:c,exclusive:!0,onChange:function(e,t){return s(t)},"aria-label":"text alignment",style:{margin:"15px 0px"},children:[Object(v.jsx)(D.a,{value:"week",className:o.actionButton,children:"Week"}),Object(v.jsx)(D.a,{value:"month",className:o.actionButton,children:"Month"}),Object(v.jsx)(D.a,{value:"year",className:o.actionButton,children:"Year"})]})}var N=n(67),W=n.n(N),z={gdnURL:"https://".concat("play2.paas.macrometa.io"),apiKey:"demo.fleet_management_frontend_app_key.zirI3tErmB2BNlkIoZhtqB8Ry65wX2NM1k4eHLcmAEewhwYM9AB49UCZgagjT2YZ52fac4",fabricName:"fleet_management"},P=n(288),q=n(40),V=n.n(q),H="maintenance_centers",L="planned_maintenance",X="telematics",Y="get_telematics_30_days",K="get_top5_maintenance_centers_for_city",Z="get_asset_details",Q="get_fleet_stats_chart_data",T="enriched-telematics",U=["load_maintenance_centers","load_planned_maintenance","load_telematics","load_area_issue_counts","load_issue_counts","load_vehicle_issue_counts","load_fleet_stats_counts"],_=[H,L,X,"unplanned_maintenance","issue_counts","area_issue_counts","fleet_stats","vehicle_issue_counts"],J=["insights-worker","fleet-stats-worker","telematics-worker","telematics-simulator"],G=new W.a({url:z.gdnURL,apiKey:"".concat(z.apiKey),fabricName:z.fabricName}),$=P.a("Critical_Status"),ee=P.a("Attention_Required"),te=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"London",e.prev=1,e.next=4,G.executeRestql(K,{City:t});case 4:return n=e.sent,a=n.result,e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(1),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.executeRestql(Y);case 3:return t=e.sent,n=t.result,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.executeRestql(Z,{Asset:t});case 3:return n=e.sent,a=n.result,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.executeRestql("insert_unplanned_maintenance",t);case 3:return n=e.sent,a=n.result,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.executeRestql("get_telematic_insights");case 3:return t=e.sent,n=t.result,a=Object(f.a)(n,1),r=a[0],e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),se=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.executeRestql("get_fleet_stats");case 3:return t=e.sent,n=t.result,a=Object(f.a)(n,1),r=a[0],e.abrupt("return",r);case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),oe=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r,c=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"week",e.prev=1,n={week:{},year:{},month:{},all:{}},e.next=5,G.executeRestql(Q);case 5:return a=e.sent,(r=a.result)&&(r=r.forEach((function(e){e&&e.last_week&&(n.week.dataset1=$(e.last_week),n.week.dataset2=ee(e.last_week),n.week.label=P.a("Date")(e.last_week)),e&&e.last_month&&(e.last_month.sort((function(e,t){return V()(e.Month,"MMM-YYYY").valueOf()-V()(t.Month,"MMM-YYYY").valueOf()})),n.month.dataset1=$(e.last_month),n.month.dataset2=ee(e.last_month),n.month.label=P.a("Month")(e.last_month)),e&&e.last_year&&(n.year.dataset1=$(e.last_year),n.year.dataset2=ee(e.last_year),n.year.label=P.a("Year")(e.last_year))}))),e.abrupt("return",n[t]);case 11:throw e.prev=11,e.t0=e.catch(1),console.error(e.t0),e.t0;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ie=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]&&r[0],e.prev=1,n=J,!1===t&&n.reverse(),a=[],n.forEach((function(e){a.push(G.activateStreamApp(e,t))})),e.next=8,Promise.all(a);case 8:return e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(1),console.error("Failed start ot stop strams",e.t0.message),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(j.a)(b.a.mark((function e(t,n){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,G.createStreamReader(t,"".concat(t,"-consumer"),!1,!1,z.gdnURL.replace("https://",""),{filters:n});case 3:a=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error(e.t0);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),ue=function(e,t){var n=Object(a.useRef)();Object(a.useEffect)((function(){n.current=e}),[e]),Object(a.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},de=Object(h.a)({root:{flexDirection:"column",display:"flex"},securitiesSelect:{width:"12rem"},selectGrid:{paddingBottom:"1rem"},selectLabel:{paddingRight:"1rem",fontSize:"1.5rem"},chartCanvas:{height:"19.5rem"},heading:{margin:"10px",fontSize:"28px",fontWeight:600}}),be=function(){var e=Object(a.useRef)(null),t=de(),n=Object(a.useState)("week"),r=Object(f.a)(n,2),c=r[0],s=r[1],o=Object(a.useState)({}),i=Object(f.a)(o,2),l=i[0],u=i[1],d=function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe(t);case 2:n=e.sent,u(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){d(c)}),[c]),ue((function(){d(c)}),1e4),Object(a.useEffect)((function(){var e=h(l);return function(){e.destroy()}}),[e.current,l]);var h=function(t){return new F.a(e.current,{type:"line",options:{maintainAspectRatio:!1,plugins:{legend:{display:!1}},elements:{point:{radius:1}},scales:{x:{grid:{display:!1}},y:{grid:{display:!1}}}},data:{labels:t.label,datasets:[{label:" Critical",data:t.dataset1,borderColor:"red",borderWidth:2},{label:" Attention",data:t.dataset2,borderColor:"#d8d800",borderWidth:2}]}})};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:t.root,children:[Object(v.jsx)(m.a,{container:!0,alignItems:"center",children:Object(v.jsx)(m.a,{item:!0,children:Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("span",{style:{fontSize:40},children:"\ud83d\ude9a"}),Object(v.jsx)("h3",{className:t.heading,children:"Fleet Status"})]})})}),Object(v.jsx)("div",{className:t.chartCanvas,children:Object(v.jsx)("canvas",{ref:e})}),Object(v.jsx)(E,{setChartFilter:s})]})})},je=n(277),fe=n(278),he=n(279),pe=n(280),me=n(281),xe=n(113),Oe=n.n(xe),ge=n(114),ve=n.n(ge),we=Object(h.a)({tableCell:{padding:"1.9px 10px",border:"1px solid"}});function Ae(){var e=we(),t=Object(a.useState)({}),n=Object(f.a)(t,2),r=n[0],c=n[1],s=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load the insigths",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){s()}),[]),ue(s,3e3);var o={Attention_Required:Object(v.jsxs)(v.Fragment,{children:["Attention required ",Object(v.jsx)("br",{})," (Last 7 days)"]}),Critical_Status:Object(v.jsxs)(v.Fragment,{children:["Critical Status ",Object(v.jsx)("br",{})," (Last 7 days)"]}),Fleet_Health:Object(v.jsxs)(v.Fragment,{children:["Fleet Health ",Object(v.jsx)("br",{})," (Last 7 days)"]}),Unplanned_Maintenance:Object(v.jsxs)(v.Fragment,{children:["Unplanned Maintenance ",Object(v.jsx)("br",{})," (Last 7 days)"]}),Planned_Maintenance:Object(v.jsxs)(v.Fragment,{children:["Planned Maintenance ",Object(v.jsx)("br",{})," (Next 7 days)"]})};return Object(v.jsx)(je.a,{component:x.a,children:Object(v.jsx)(fe.a,{className:e.table,"aria-label":"custom pagination table",children:Object(v.jsx)(he.a,{children:Object.keys(o)&&Object.keys(o).map((function(t,n){return Object(v.jsxs)(pe.a,{children:[Object(v.jsx)(me.a,{className:e.tableCell,children:o[t]}),Object(v.jsx)(me.a,{className:e.tableCell,style:{width:"50px"},children:r&&r[t]&&"Up"===r[t].arrow?Object(v.jsx)(Oe.a,{style:{fontSize:50}}):Object(v.jsx)(ve.a,{style:{fontSize:50}})}),Object(v.jsx)(me.a,{className:e.tableCell,children:Object(v.jsx)("b",{style:{color:"".concat(r&&r[t]&&"Up"===r[t].arrow?"green":"red")},children:r&&r[t]&&r[t][t]})})]},Math.random())}))})})})}var Ce=Object(h.a)({tableCell:{padding:"0.7rem",border:"1px solid"},heading:{margin:"10px",fontSize:"28px",fontWeight:400}}),ke={Vehicle_With_Most_Frequent_Issues:"Vechicle with most frequent issue",Most_Common_Alert:"Most Common Alert",Total_Cost_Of_Unplanned_Maintenance:"Total Cost of Unplanned Maintenance",Area_With_Most_Alerts:"Area with most Alerts",Least_Cost_Effective_Vehicle:"Least Cost Effective Vehicle"};function ye(){var e=Ce(),t=Object(a.useState)({}),n=Object(f.a)(t,2),r=n[0],c=n[1],s=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce();case 3:t=e.sent,c(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load the insigths",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s()}),[]),ue(s,3e3),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex",marginBottom:"10px"},children:[Object(v.jsx)("span",{style:{fontSize:40},children:"\ud83d\udd0d"}),Object(v.jsx)("h3",{className:e.heading,children:" Insights"})]}),Object(v.jsx)(je.a,{component:x.a,children:Object(v.jsx)(fe.a,{className:e.table,"aria-label":"custom pagination table",children:Object(v.jsx)(he.a,{children:Object.keys(ke)&&Object.keys(ke).map((function(t){return Object(v.jsxs)(pe.a,{children:[Object(v.jsx)(me.a,{className:e.tableCell,children:ke[t]}),Object(v.jsx)(me.a,{className:e.tableCell,children:r&&r.hasOwnProperty(t)?r[t]:"-"}),Object(v.jsx)(me.a,{className:e.tableCell,children:"investigate"})]},Math.random())}))})})})]})}var Se=n(25),Be=n(282),Ie=n(290),Fe={backgroundColor:"#4b81c3",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)",color:"#ffffff",borderRadius:0,"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},Me=function(e){var t=V()(e),n=V()();return t.from(n)},De=function(e){if(e)return V()(e).format("D MMM YYYY")},Re=function(){return Math.floor(1e6+9e5*Math.random())},Ee=Object(h.a)((function(e){return{actionButton:{backgroundColor:"#ffffff",width:"9rem",boxShadow:"none",border:"1px solid rgb(169,169,169)",borderRadius:0},activeActionButton:Fe,root:{display:"flex","& > *":{marginRight:"10px",marginTop:"0.6rem",flex:1,padding:"5px 0px"}}}}));function Ne(e){var t=e.stats,n=e.setAlterFilter,r=Ee(),c=Object(a.useState)("all"),s=Object(f.a)(c,2),o=s[0],i=s[1],l=t.all,u=t.critical,d=t.attention,b=t.booked,j=t.unbooked,h=function(e){return"".concat(o===e?r.activeActionButton:r.actionButton)};return Object(a.useEffect)((function(){n(o)}),[o]),Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:r.root,children:[Object(v.jsxs)(g.a,{variant:"outlined",onClick:function(){return i("all")},className:h("all"),children:["All (",l,")"]}),Object(v.jsxs)(g.a,{variant:"outlined",onClick:function(){return i("critical")},className:h("critical"),children:["Critical (",u,")"]}),Object(v.jsxs)(g.a,{variant:"outlined",onClick:function(){return i("attention")},className:h("attention"),children:["Attention (",d,")"]}),Object(v.jsxs)(g.a,{variant:"outlined",onClick:function(){return i("booked")},className:h("booked"),children:["Booked (",b,")"]}),Object(v.jsxs)(g.a,{variant:"outlined",onClick:function(){return i("unbooked")},className:h("unbooked"),children:["To be Booked (",j,")"]})]})})}var We=Object(h.a)({table:{minWidth:650},root:{paddingTop:"1rem"},pagination:{borderRadius:"none"},activeActionButton:Object(Se.a)(Object(Se.a)({},Fe),{},{width:"4rem"}),heading:{margin:"10px",fontSize:"28px",fontWeight:600}});function ze(e){var t=e.alertsData,n=e.setOpenModal,c=We(),s=Object(a.useState)({all:0,critical:0,attention:0,booked:0}),o=Object(f.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)("all"),d=Object(f.a)(u,2),b=d[0],j=d[1],h=Object(a.useState)([]),p=Object(f.a)(h,2),m=p[0],O=p[1],w=Object(a.useState)([]),A=Object(f.a)(w,2),C=A[0],k=A[1],y=Object(a.useState)([]),S=Object(f.a)(y,2),B=S[0],I=S[1],F=r.a.useState(1),M=Object(f.a)(F,2),D=M[0],R=M[1];return Object(a.useEffect)((function(){var e=function(e,t){var n,a,r=[],c=t;for(n=0,a=e.length;n<a;n+=c)r.push(e.slice(n,n+c));return r}(C.filter((function(e){var t=b.toLowerCase();return"all"===t||("booked"===t?"yes"===e.Maintenance_Planned.toLowerCase():"unbooked"===t?"no"===e.Maintenance_Planned.toLowerCase():e.Status_Level.toLowerCase()===t)})),8);O(e),I(e[D-1|0]),e.length<D?R(1):R(D)}),[b,C]),Object(a.useEffect)((function(){I(m[D-1])}),[D]),Object(a.useEffect)((function(){k(t)}),[t]),Object(a.useEffect)((function(){var e={all:C.length,critical:0,attention:0,booked:0,unbooked:0};C.forEach((function(t){"yes"===t.Maintenance_Planned.toLowerCase()&&(e.booked+=1),"no"===t.Maintenance_Planned.toLowerCase()&&(e.unbooked+=1),"critical"===t.Status_Level.toLowerCase()&&(e.critical+=1),"attention"===t.Status_Level.toLowerCase()&&(e.attention+=1)})),l(e)}),[C]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{style:{display:"flex"},children:[Object(v.jsx)("span",{style:{fontSize:40},children:"\ud83d\udd14"}),Object(v.jsx)("h3",{className:c.heading,children:"Alerts"})]}),Object(v.jsx)(Ne,{stats:i,setAlterFilter:j}),Object(v.jsx)("div",{className:c.root,children:Object(v.jsxs)(je.a,{component:x.a,children:[Object(v.jsxs)(fe.a,{className:c.table,"aria-label":"simple table",children:[Object(v.jsx)(Be.a,{children:Object(v.jsxs)(pe.a,{children:[Object(v.jsx)(me.a,{style:{width:"5rem"},children:"Vehicle ID"}),Object(v.jsx)(me.a,{align:"center",children:"Alert \xa0 Description"}),Object(v.jsx)(me.a,{align:"center",children:"Date \xa0 Logged"}),Object(v.jsx)(me.a,{align:"center",children:"Status level"}),Object(v.jsx)(me.a,{align:"center",children:"Maintenance \xa0 Planned"}),Object(v.jsx)(me.a,{align:"center",style:{width:"5rem"},children:"Action"})]})}),Object(v.jsx)(he.a,{children:B&&B.map((function(e,t){return Object(v.jsxs)(pe.a,{style:t%2?{background:"rgb(208 225 243)"}:{},children:[Object(v.jsx)(me.a,{align:"center",children:e.Asset}),Object(v.jsx)(me.a,{align:"center",children:e.Fault}),Object(v.jsx)(me.a,{align:"center",children:Me(e.Timestamp)}),Object(v.jsx)(me.a,{align:"center",style:{color:"".concat("Critical"===e.Status_Level?"red":"")},children:e.Status_Level}),Object(v.jsx)(me.a,{align:"center",children:e.Maintenance_Planned}),Object(v.jsx)(me.a,{align:"center",children:"yes"===e.Maintenance_Planned.toLowerCase()?Object(v.jsxs)(v.Fragment,{children:["Booked",Object(v.jsx)("br",{}),De(e.Booked_In)]}):Object(v.jsx)(g.a,{variant:"contained",color:"primary",className:c.activeActionButton,style:{padding:"0px"},onClick:function(){return n({status:!0,data:e})},children:"Book"})})]},Math.random())}))})]}),Object(v.jsx)(Ie.a,{className:c.pagination,count:m.length,showFirstButton:!0,showLastButton:!0,page:D,onChange:function(e,t){R(t)}})]})})]})}var Pe=new W.a({url:z.gdnURL,apiKey:"".concat(z.apiKey),fabricName:z.fabricName}),qe=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Le(!1);case 3:return e.next=5,ie();case 5:return e.next=7,Ve();case 7:return e.next=9,He();case 9:return e.next=11,Le(!0);case 11:t(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.error("Failed to intialize",e.t0.message),t(!1);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),Ve=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=_.map((function(e){return Pe.collection(e).truncate()})),e.next=4,Promise.all(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.error("Failed to truncate",e.t0.message);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),He=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=U.slice(0,2).map((function(e){return Pe.executeRestql(e)})),e.next=4,Promise.all(t);case 4:return e.next=6,Pe.executeRestql(U[2]);case 6:return n=U.slice(3).map((function(e){return Pe.executeRestql(e)})),e.next=9,Promise.all(n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Failed to load",e.t0.message);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(j.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.executeRestql("on_ready",{status:t});case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),console.error("Failed to onReady",e.t0.message);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pe.executeRestql("is_demo_ready");case 3:return t=e.sent,n=t.result,a=Object(f.a)(n,1),r=a[0],e.abrupt("return",r&&r.ready||!1);case 9:return e.prev=9,e.t0=e.catch(0),console.error("Failed to onReady",e.t0.message),e.abrupt("return",!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),Ye=n(289),Ke=n(283),Ze=n(284),Qe=n(285),Te=n(116),Ue=n.n(Te),_e=(n(196),Object(h.a)({table:{minWidth:650},activeActionButton:Object(Se.a)(Object(Se.a)({},Fe),{},{width:"5rem"}),pagination:{borderRadius:"none"}}));function Je(e){var t=e.handleSelect,n=e.alertData,r=_e(),c=Object(a.useState)({}),s=Object(f.a)(c,2),o=s[0],i=s[1],l=Object(a.useState)([]),u=Object(f.a)(l,2),d=u[0],h=u[1],p=Object(a.useState)(!1),m=Object(f.a)(p,2),w=m[0],A=m[1],C=function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(t);case 3:n=e.sent,h(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error("falied to load maintenace centers",e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),k=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=n.City;C(e),document.querySelector(".react-datepicker-wrapper").style.visibility="hidden",document.querySelector(".react-datepicker-wrapper").style.width="64px"}),[]),Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(O.a,{component:"div",className:r.root,children:Object(v.jsx)(je.a,{component:x.a,children:Object(v.jsxs)(fe.a,{className:r.table,"aria-label":"simple table",children:[Object(v.jsx)(Be.a,{children:Object(v.jsxs)(pe.a,{children:[Object(v.jsx)(me.a,{children:"Maintenance Center"}),Object(v.jsx)(me.a,{align:"center",children:"Rating"}),Object(v.jsx)(me.a,{align:"center",children:"City"}),Object(v.jsx)(me.a,{align:"center",children:"Estimated Time"}),Object(v.jsx)(me.a,{align:"center",children:"Estimated Cost"}),Object(v.jsxs)(me.a,{align:"center",children:["Select",Object(v.jsx)(Ue.a,{minDate:new Date,ref:function(e){k.current=e},onChange:function(e){t({date:e,maintenaceData:o})}})]})]})}),Object(v.jsx)(he.a,{children:d&&d.map((function(e,t){return Object(v.jsxs)(pe.a,{style:t%2?{background:"rgb(208 225 243)"}:{},children:[Object(v.jsx)(me.a,{align:"center",children:e.Name}),Object(v.jsxs)(me.a,{align:"center",children:[e.Rating,"/5.0"]}),Object(v.jsx)(me.a,{align:"center",children:e.City}),Object(v.jsxs)(me.a,{align:"center",children:[e.Estimated_Time,"  ",1===e.Estimated_Time?"Day":"Days"]}),Object(v.jsxs)(me.a,{align:"center",children:["$",e.Estimated_Cost]}),Object(v.jsx)(me.a,{align:"center",children:Object(v.jsx)(g.a,{variant:"contained",color:"primary",style:{padding:"0px"},className:r.activeActionButton,onClick:function(){return function(e){i(e),k.current.setOpen(!0),A(!w)}(e)},children:"Select"})})]},Math.random())}))})]})})})})}var Ge=n(119),$e=n.n(Ge),et={cursor:"pointer",float:"right",marginTop:"5px",width:"50px"},tt=r.a.memo((function(e){var t=e.openModal,n=e.closeModal,c=e.handleSelect,s=r.a.useState(!1),o=Object(f.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)({status:!1,data:{}}),d=Object(f.a)(u,2),b=d[0],j=d[1];Object(a.useEffect)((function(){l(t.status),j(t.data)}),[t.status]);var h=function(){l(!1),n()},p=function(e){l(!1),n(),c(Object(Se.a)(Object(Se.a)({},e),{},{_key:b._key,data:b}))},m=b.Asset;return Object(v.jsx)(r.a.Fragment,{children:Object(v.jsxs)(Ye.a,{fullWidth:!0,maxWidth:"md",open:i,onClose:h,"aria-labelledby":"max-width-dialog-title",children:[Object(v.jsxs)(Ke.a,{id:"max-width-dialog-title",children:[m,Object(v.jsx)($e.a,{fontSize:"large",onClick:h,style:et})]}),Object(v.jsx)(Ze.a,{children:Object(v.jsx)(Qe.a,{children:Object(v.jsx)(Je,{alertData:b,handleSelect:function(e){return p(e)}})})})]})})})),nt=Object(h.a)({root:{backgroundColor:"#F1F2F4",minHeight:"100vh",padding:"0"},aboutButton:{top:"1.1rem",right:"2rem",position:"absolute",backgroundColor:"rgb(208 225 243)",boxShadow:"none",border:"1px solid rgb(169,169,169)"}}),at=function(){var e=nt(),t=Object(a.useState)(!1),n=Object(f.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),o=Object(f.a)(s,2),i=o[0],d=o[1],h=Object(a.useState)(!1),O=Object(f.a)(h,2),g=O[0],w=O[1],C=Object(a.useState)(!1),k=Object(f.a)(C,2),S=k[0],B=k[1],F=Object(a.useState)(!0),M=Object(f.a)(F,2),D=(M[0],M[1]),R=Object(a.useState)([]),E=Object(f.a)(R,2),N=E[0],W=E[1],z=Object(a.useState)([]),P=Object(f.a)(z,2),q=P[0],V=P[1],H=Object(a.useState)({status:!1,data:{}}),L=Object(f.a)(H,2),X=L[0],Y=L[1],K=function(e){return e.preventDefault(),U(),e.returnValue="",""};Object(a.useEffect)((function(){return window.addEventListener("beforeunload",K),function(){window.removeEventListener("beforeunload",K)}}),[]);var Z=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe();case 2:(t=e.sent)||V([]),D(!t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(j.a)(b.a.mark((function e(t){var n,a,r,c,s,o,i,l,u,d,j,h,p;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.data,a=n.Asset,r=n.Fault,c=t.date,s=t.maintenaceData,e.next=5,ae(a);case 5:return o=e.sent,i=Object(f.a)(o,1),l=i[0],u=l.Driver,d=l.Vehicle_Model,j=s.Estimated_Cost,h=new Date(c),p={Asset:a,Booked_In:h.toISOString(),Invoice_Number:Re(),Cost_Center:Re(),Vehicle_Model:d,Driver:u,Work_Description:r,Work_Cost:j},e.next=14,re(p);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.error("Failed to book maintenance",e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z()}),[i,g,S]);var U=function(){w(!0),G()},_=function(){var e=Object(j.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.next=3,qe(B);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne();case 3:t=e.sent,n=(n=Object(u.a)(t)).filter((function(e){return e})).filter((function(e){return Object.keys(e).length>0})),n=Object(u.a)(new Map(n.map((function(e){return[e._key,e]}))).values()),V(n),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("falied to load maintenace centers",e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){S||J()}),[S]);var G=function(){var e=Object(j.a)(b.a.mark((function e(){var t,n,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=Object(l.a)(N),e.prev=2,t.s();case 4:if((n=t.n()).done){e.next=10;break}return a=n.value,e.next=8,a.terminate();case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),t.e(e.t0);case 15:return e.prev=15,t.f(),e.finish(15);case 18:return e.next=20,ie();case 20:e.sent&&c(!1),w(!1),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(0),console.error("Failed to close steam and webscoker",e.t1.message);case 28:case"end":return e.stop()}}),e,null,[[0,25],[2,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(j.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie(!0);case 3:if(!e.sent){e.next=10;break}return e.next=7,ee(T);case 7:t=e.sent,W((function(e){return[].concat(Object(u.a)(N),[t])})),c(!0);case 10:d(!1),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Failed to close steam and webscoket",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ee=function(){var e=Object(j.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le(t);case 3:return(n=e.sent).on("open",(function(){return console.info("Connection open for ".concat(t))})),n.on("error",(function(e){return console.error("Connection error for ".concat(t),e)})),n.on("close",(function(){return console.info("Connection close for ".concat(t))})),n.on("message",(function(e){n.send(JSON.stringify({messageId:JSON.parse(e).messageId})),te(e,T)})),e.abrupt("return",n);case 11:e.prev=11,e.t0=e.catch(0),console.error("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),te=function(e,t){var n=[],a=function(e){var t=JSON.parse(e).payload,n=JSON.parse(e).messageId,a=atob(t);return 0===a.length?{newData:{},messageId:n}:{newData:JSON.parse(a),messageId:n}}(e).newData,r=void 0===a?{}:a;r&&0!==Object.keys(r).length&&(r._key=Re(),n.push(r),V((function(e){return[].concat(n,Object(u.a)(e))})))};return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)(p.a,{className:e.root,maxWidth:!1,children:[Object(v.jsx)(A,{}),Object(v.jsx)(y,{handleOnClear:_,handleOnStart:function(){d(!0),$()},handleOnStop:U,isStartButtonDisabled:i,isStopButtonDisabled:g,isClearButtonDisabled:S,isStreamStarted:r}),Object(v.jsxs)(m.a,{container:!0,alignItems:"flex-start",children:[Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(x.a,{style:{margin:"0.75rem",padding:"0.75rem 2rem 2rem 2rem"},children:Object(v.jsxs)(m.a,{container:!0,alignItems:"flex-start",children:[Object(v.jsx)(m.a,{item:!0,xs:6,style:{paddingRight:"2rem"},children:Object(v.jsx)(be,{})}),Object(v.jsx)(m.a,{item:!0,xs:6,style:{marginTop:"4rem"},children:Object(v.jsx)(Ae,{})}),Object(v.jsx)(m.a,{item:!0,xs:12,style:{marginTop:"1rem"},children:Object(v.jsx)(ye,{})})]})})}),Object(v.jsx)(m.a,{item:!0,xs:6,children:Object(v.jsx)(x.a,{style:{margin:"0.75rem",padding:"0.75rem 2rem 2rem 2rem"},children:Object(v.jsx)(ze,{alertsData:q,setOpenModal:Y})})})]}),Object(v.jsx)(tt,{openModal:X,closeModal:function(){return Y({status:!1,data:{id:0}})},handleSelect:function(e){return function(e){var t=q.map((function(t){if(t._key===e._key){t.Maintenance_Planned="Yes";var n=new Date(e.date);t.Booked_In=n.toISOString()}return t}));V(t),Q(e)}(e)}}),Object(v.jsx)(I,{})]})})},rt=Object(o.a)({typography:{fontFamily:["Lato","sans-serif"].join(",")},overrides:{MuiTableCell:{root:{padding:"0.8rem"},stickyHeader:{backgroundColor:"#d0e0f3"},head:{color:"#ffffff",fontWeight:900}},MuiTypography:{root:{fontWeight:"600 !important"}},MuiButton:{contained:{backgroundColor:"#E1E1FA",boxShadow:"none",color:"#4D4DAD","&:hover, &:focus, &:active":{backgroundColor:"#C2C2F5",boxShadow:"0 2px 5px rgba(133, 133, 235, .35)",color:"#343473"},"&:disabled":{backgroundColor:"#E2E4E8",color:"#535968"}},containedPrimary:{backgroundColor:"#6767E6",color:"#FFF","&:hover, &:focus, &:active":{backgroundColor:"#4D4DAD",color:"#FFF"}},label:{textTransform:"capitalize",fontWeight:"700"}},MuiFormControl:{root:{height:"56px"}},MuiInputLabel:{outlined:{transform:"translate(14px, 0.7rem) scale(1)"}},MuiOutlinedInput:{input:{padding:"0.65rem 14px"}},MuiPaginationItem:{root:{borderRadius:"0px"},page:{padding:"23px","&$selected":{backgroundColor:"#4b81c3",color:"#ffffff","&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}}},MuiToggleButton:{root:{"&$selected":{backgroundColor:"#4b81c3",color:"#ffffff","&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}},"&:hover":{backgroundColor:"#4b81c3",color:"#ffffff"}}},MuiTableHead:{root:{backgroundColor:"#4b81c3"}},MuiTableContainer:{root:{overflowX:"inherit"}}}}),ct=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(i.a,{theme:rt,children:Object(v.jsx)(at,{})})})},st=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,292)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(r.a.StrictMode,{children:Object(v.jsx)(ct,{})}),document.getElementById("root")),st()}},[[241,1,2]]]);
//# sourceMappingURL=main.c268186d.chunk.js.map