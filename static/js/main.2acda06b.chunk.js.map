{"version":3,"sources":["app/components/Header.js","app/images/logo-macrometa.png","app/components/ButtonBar.js","app/components/Footer.js","app/components/ChartFilters.js","app/services/config.js","app/util/constants.js","app/services/streams.js","app/hooks/useInterval.js","app/components/LineChart.js","app/components/tables/FleetStatusTable.js","app/components/tables/InsightsTable.js","app/services/util.js","app/components/tables/AlertFilters.js","app/components/tables/AlertsTable.js","app/services/restql.js","app/components/tables/ModalTable.js","app/components/ModalComponent.js","app/components/Dashboard.js","App.js","reportWebVitals.js","index.js"],"names":["useStyles","makeStyles","container","backgroundColor","borderBottom","padding","logo","height","margin","width","heading","color","fontSize","fontWeight","lineHeight","whiteSpace","subheading","aboutButton","textTransform","Header","classes","Grid","alignItems","className","direction","justify","wrap","alt","src","Typography","variant","Button","onClick","window","open","root","actionButton","marginRight","ButtonBar","isStreamStarted","handleOnStart","isStartButtonDisabled","handleOnStop","isStopButtonDisabled","handleOnClear","isClearButtonDisabled","disabled","CircularProgress","size","top","bottom","poweredByBtn","paddingRight","Footer","AppBar","position","boxShadow","border","ChartFilters","setChartFilter","useState","selected","setSelected","useEffect","ToggleButtonGroup","value","exclusive","onChange","e","aria-label","style","ToggleButton","config","gdnURL","process","apiKey","fabricName","MAINTENANCE_CENTER","PLANNED_MAINTENANCE","TELEMATICS","GET_TELEMATICS_30_DAYS","GET_TOP5_MAINTENANCE_CENTERS_FOR_CITY","GET_ASSET_DETAILS","GET_FLEET_STATS_CHART_DATA","ENRICHTED_TELEMATICS","LOAD_DATASETS","TRUNCATE_DATASETS","STREAM_WORKERS","jsc8Client","jsC8","url","getDataset1","R","getDataset2","maintenanceCenterList","a","city","executeRestql","City","result","console","error","telematicList","assetDetails","Asset","processBooking","payload","insightList","data","fleetStats","fleetChartData","filter","tdata","week","year","month","all","forEach","item","sort","stat_1","stat_2","moment","Month","valueOf","startStopStream","start","steamsArr","reverse","streamPromises","element","push","activateStreamApp","Promise","message","createStreamReader","streamName","filters","Math","round","random","replace","response","useInterval","callback","delay","savedCallback","useRef","current","id","setInterval","clearInterval","flexDirection","display","securitiesSelect","selectGrid","paddingBottom","selectLabel","chartCanvas","LineChart","canvasRef","chartFilter","chartData","setChartData","initFleetChartData","ch","initChart","destroy","Chart","type","options","maintainAspectRatio","plugins","legend","elements","point","radius","scales","x","grid","y","labels","label","datasets","dataset1","borderColor","borderWidth","dataset2","ref","tableCell","FleetStatusTable","setData","initFleetStats","Attention_Required","Critical_Status","Fleet_Health","Unplanned_Maintenance","Planned_Maintenance","TableContainer","component","Paper","Table","table","TableBody","Object","keys","map","key","i","TableRow","TableCell","arrow","Vehicle_With_Most_Frequent_Issues","Most_Common_Alert","Total_Cost_Of_Unplanned_Maintenance","Area_With_Most_Alerts","Least_Cost_Effective_Vehicle","InsightsTable","initInsightList","marginBottom","hasOwnProperty","activeButtonClass","borderRadius","formatDate","date","b","from","printDate","format","getRand","floor","theme","activeActionButton","marginTop","flex","AlertFilters","stats","setAlterFilter","critical","attention","booked","unbooked","computeClass","val","minWidth","paddingTop","pagination","AlertsTable","alertsData","setOpenModal","alertStats","setAlertStats","alertFilter","fdata","setFData","odata","setOData","setTData","React","page","setPage","tempData","arr","j","temparr","chunk","length","slice","slicer","toLowerCase","Maintenance_Planned","Status_Level","TableHead","align","row","background","Fault","Timestamp","Booked_In","status","Pagination","count","showFirstButton","showLastButton","event","intialize","onReady","truncateCollections","loadDataCollections","promises","collection","truncate","tpromises","isDemoReady","demo","ready","ModalTable","handleSelect","alertData","selectedCenter","setSelectedCenter","focus","setFocus","initMaintenanceCenterList","results","document","querySelector","visibility","minDate","Date","r","maintenaceData","Name","Rating","Estimated_Time","Estimated_Cost","setOpen","toggle","closeImg","cursor","float","memo","props","openModal","closeModal","modalData","setModalData","handleClose","handleSelectDate","_key","Fragment","Dialog","fullWidth","maxWidth","onClose","aria-labelledby","DialogTitle","DialogContent","DialogContentText","minHeight","right","Dashboard","setIsStreamStarted","isLoading","setIsLoading","isStopLoading","setIsStopLoading","isIntializeLoading","setIsIntializeLoading","setIsStartButtonDisabled","streamConnections","setStreamConnections","setAlertsData","preventDefault","returnValue","addEventListener","removeEventListener","initDemoReady","isReady","initAssetDetails","asetDetail","Driver","Vehicle_Model","Work_Cost","tdate","toISOString","Invoice_Number","Cost_Center","Work_Description","closeStreamAndWebSocket","handleOnIntialize","initTelematicList","Map","values","terminate","startStreamAndWebSocket","establishConnectionForFree","alertsStreamConnection","prev","_consumer","on","info","send","JSON","stringify","messageId","parse","messageManipulation","tempArr","msg","encodedMessage","decodedMessage","atob","newData","parseMessage","Container","xs","handleBooking","createMuiTheme","typography","fontFamily","join","overrides","MuiTableCell","stickyHeader","head","MuiTypography","MuiButton","contained","containedPrimary","MuiFormControl","MuiInputLabel","outlined","transform","MuiOutlinedInput","input","MuiPaginationItem","MuiToggleButton","MuiTableHead","MuiTableContainer","overflowX","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2acda06b.chunk.js","sourcesContent":["import React from \"react\";\n\nimport { makeStyles, Button, Grid, Typography } from \"@material-ui/core\";\n\nimport MacrometaLogo from \"../images/logo-macrometa.png\";\n\nconst useStyles = makeStyles({\n  container: {\n    backgroundColor: \"#fff\",\n    borderBottom: \"1px solid rgba(197, 200, 209, .5)\",\n    padding: \"0.5rem 1rem\",\n  },\n  logo: {\n    height: \"32px\",\n    margin: \"0 1rem 0 0\",\n    padding: \"0 0 0.25rem\",\n    width: \"128px\",\n  },\n  heading: {\n    color: \"#4D4DAD\",\n    fontSize: \"1rem\",\n    fontWeight: \"700 !important\",\n    lineHeight: \"32px\",\n    margin: \"0 0.5rem 0 0\",\n    whiteSpace: \"nowrap\",\n  },\n  subheading: {\n    color: \"#535968\",\n    fontSize: \"1rem\",\n    fontWeight: \"400 !important\",\n    lineHeight: \"32px\",\n    margin: \"0\",\n    whiteSpace: \"nowrap\",\n  },\n  aboutButton: {\n    textTransform: \"none\",\n    whiteSpace: \"nowrap\",\n  },\n});\n\nconst Header = () => {\n  const classes = useStyles();\n\n  return (\n    <Grid\n      alignItems=\"center\"\n      className={classes.container}\n      container={true}\n      direction=\"row\"\n      justify=\"space-between\"\n      wrap=\"nowrap\"\n    >\n      <Grid container justify=\"flex-start\" alignItems=\"center\" wrap=\"nowrap\">\n        <img alt=\"Macrometa\" className={classes.logo} src={MacrometaLogo} />\n        <Typography variant=\"h1\" className={classes.heading}>\n          Realtime Fleet Management\n        </Typography>\n        <Typography className={classes.subheading}>\n          Simple, secure and scalable realtime fleet management.\n        </Typography>\n      </Grid>\n      <Grid container justify=\"flex-end\" alignItems=\"center\" wrap=\"nowrap\">\n        <Button\n          className={classes.aboutButton}\n          onClick={() => {\n            window.open(\n              \"https://github.com/Macrometacorp/demo-fleet-management\",\n              \"_blank\"\n            );\n          }}\n          variant=\"contained\"\n        >\n          Source on GitHub\n        </Button>\n      </Grid>\n    </Grid>\n  );\n};\n\nexport default Header;\n","export default \"data:image/png;base64,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\"","import { Button, CircularProgress, makeStyles } from \"@material-ui/core\";\nimport React from \"react\";\n\nconst useStyles = makeStyles({\n  root: {\n    backgroundColor: \"#fff\",\n    borderBottom: \"1px solid rgba(197, 200, 209, .5)\",\n    padding: \"0.5rem 1rem\",\n  },\n  actionButton: {\n    marginRight: \"0.5rem\",\n\n    \"& .MuiButton-label\": {\n      textTransform: \"uppercase\",\n    },\n  },\n});\n\nconst ButtonBar = ({\n  isStreamStarted,\n  handleOnStart,\n  isStartButtonDisabled,\n  handleOnStop,\n  isStopButtonDisabled,\n  handleOnClear,\n  isClearButtonDisabled,\n}) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      {!isStreamStarted ? (\n        <>\n          <Button\n            className={classes.actionButton}\n            color=\"primary\"\n            disabled={isStartButtonDisabled}\n            onClick={handleOnStart}\n            variant=\"contained\"\n          >\n            {isStartButtonDisabled ? <CircularProgress size={24} /> : \"Start\"}\n          </Button>\n          <Button\n            className={classes.actionButton}\n            disabled={isStreamStarted}\n            onClick={handleOnClear}\n            variant=\"contained\"\n          >\n            {isClearButtonDisabled ? (\n              <CircularProgress size={24} />\n            ) : (\n              \"Initialize\"\n            )}\n          </Button>\n        </>\n      ) : (\n        <Button\n          className={classes.actionButton}\n          color=\"primary\"\n          disabled={isStopButtonDisabled}\n          onClick={handleOnStop}\n          variant=\"contained\"\n        >\n          {isStopButtonDisabled ? <CircularProgress size={24} /> : \"Stop\"}\n        </Button>\n      )}\n    </div>\n  );\n};\n\nexport default ButtonBar;\n","import React from \"react\";\nimport { AppBar, Button, makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  root: {\n    top: \"auto !important\",\n    backgroundColor: \"white\",\n    bottom: 0,\n    alignItems: \"end\",\n  },\n  poweredByBtn: {\n    color: \"rgba(33, 33, 33, 0.6) !important\",\n    marginRight: \"8px\",\n  },\n  logo: {\n    paddingRight: \"4px\",\n    height: \"30px\",\n    width: \"30px\",\n  },\n});\n\nconst Footer = () => {\n  const classes = useStyles();\n\n  return (\n    <AppBar position=\"fixed\" className={classes.root}>\n      <Button variant=\"text\" className={classes.poweredByBtn}>\n        Powered By Macrometa\n      </Button>\n    </AppBar>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect } from \"react\";\nimport { ToggleButton, ToggleButtonGroup } from \"@material-ui/lab\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles({\n  actionButton: {\n    backgroundColor: \"#fff\",\n    width: \"9rem\",\n    boxShadow: \"none\",\n    border: \"1px solid rgb(169,169,169)\",\n  },\n});\n\nexport default function ChartFilters({ setChartFilter }) {\n  const [selected, setSelected] = useState(\"week\");\n  const classes = useStyles();\n\n  useEffect(() => {\n    setChartFilter(selected);\n  }, [selected]);\n\n  return (\n    <ToggleButtonGroup\n      value={selected}\n      exclusive\n      onChange={(e, value) => setSelected(value)}\n      aria-label=\"text alignment\"\n      style={{ margin: \"15px 0px\" }}\n    >\n      <ToggleButton value=\"week\" className={classes.actionButton}>\n        Week\n      </ToggleButton>\n      <ToggleButton value=\"month\" className={classes.actionButton}>\n        Month\n      </ToggleButton>\n      <ToggleButton value=\"year\" className={classes.actionButton}>\n        Year\n      </ToggleButton>\n      {/* <ToggleButton value=\"all\" className={classes.actionButton}>\n        All\n      </ToggleButton> */}\n    </ToggleButtonGroup>\n  );\n}\n","const config = {\n  gdnURL: `https://${process.env.REACT_APP_GDN_URL}`,\n  apiKey: process.env.REACT_APP_API_KEY,\n  fabricName: process.env.REACT_APP_FABRIC_NAME,\n};\n\nexport default config;\n","const MAINTENANCE_CENTER = \"maintenance_centers\"\nconst UNPLANNED_MAINTENANCE = \"unplanned_maintenance\"\nconst PLANNED_MAINTENANCE = \"planned_maintenance\"\nconst TELEMATICS = \"telematics\"\nconst ISSUE_COUNTS = \"issue_counts\"\nconst AREA_ISSUE_COUNTS = \"area_issue_counts\"\nconst FLEET_STATS = \"fleet_stats\"\nconst VEHICLE_ISSSUE_COUNTS = \"vehicle_issue_counts\"\n\nconst LOAD_MAINTENANCE_CENTER = \"load_maintenance_centers\"\nconst LOAD_PLANNED_MAINTENANCE = \"load_planned_maintenance\"\nconst LOAD_TELEMATICS = \"load_telematics\"\nconst LOAD_AREA_ISSIE_COUNTS = \"load_area_issue_counts\"\nconst LOAD_ISSSUE_COUNTS = \"load_issue_counts\"\nconst LOAD_VEHICLE_ISSSUE_COUNTS = \"load_vehicle_issue_counts\"\nconst LOAD_FLEET_STATS_COUNTS = \"load_fleet_stats_counts\"\n\nexport const ON_READY = \"on_ready\"\nexport const IS_DEMO_READY = \"is_demo_ready\"\n\nexport const GET_TELEMATICS_30_DAYS = \"get_telematics_30_days\"\nexport const GET_TOP5_MAINTENANCE_CENTERS_FOR_CITY = \"get_top5_maintenance_centers_for_city\"\nexport const GET_ASSET_DETAILS = \"get_asset_details\"\nexport const GET_TELEMATIC_INSIGHTS = \"get_telematic_insights\"\nexport const GET_FLEET_STATS = \"get_fleet_stats\"\nexport const GET_FLEET_STATS_CHART_DATA = \"get_fleet_stats_chart_data\"\nexport const INSERT_UNPLANNED_MAINTENANCE = \"insert_unplanned_maintenance\"\nexport const ENRICHTED_TELEMATICS =  \"enriched-telematics\"\n\nexport const COLLECTIONS = {\n  MAINTENANCE_CENTER,\n  PLANNED_MAINTENANCE,\n  TELEMATICS,\n};\n\nexport const LOAD_DATASETS = [\n  LOAD_MAINTENANCE_CENTER,\n  LOAD_PLANNED_MAINTENANCE,\n  LOAD_TELEMATICS,\n  LOAD_AREA_ISSIE_COUNTS,\n  LOAD_ISSSUE_COUNTS,\n  LOAD_VEHICLE_ISSSUE_COUNTS,\n  LOAD_FLEET_STATS_COUNTS\n]\n\nexport const TRUNCATE_DATASETS = [\n  MAINTENANCE_CENTER,\n  PLANNED_MAINTENANCE,\n  TELEMATICS,\n  UNPLANNED_MAINTENANCE,\n  ISSUE_COUNTS,\n  AREA_ISSUE_COUNTS,\n  FLEET_STATS,\n  VEHICLE_ISSSUE_COUNTS\n]\n\nexport const RESTQL = {\n  GET_TELEMATICS_30_DAYS,\n  GET_TOP5_MAINTENANCE_CENTERS_FOR_CITY,\n  GET_ASSET_DETAILS\n}\n\nexport const STREAM_WORKERS =  [\n  \"insights-worker\",\n  \"fleet-stats-worker\",\n  \"telematics-worker\",\n  \"telematics-simulator\",\n]\n","import jsC8 from \"jsc8\";\nimport config from \"../services/config\";\nimport * as R from \"ramda\";\nimport moment from \"moment\";\nimport {\n  GET_TOP5_MAINTENANCE_CENTERS_FOR_CITY,\n  GET_TELEMATICS_30_DAYS,\n  GET_TELEMATIC_INSIGHTS,\n  GET_ASSET_DETAILS,\n  INSERT_UNPLANNED_MAINTENANCE,\n  STREAM_WORKERS,\n  GET_FLEET_STATS,\n  GET_FLEET_STATS_CHART_DATA,\n} from \"../util/constants\";\n\nconst jsc8Client = new jsC8({\n  url: config.gdnURL,\n  apiKey: `${config.apiKey}`,\n  fabricName: config.fabricName,\n});\n\nconst getDataset1 = R.pluck(\"Critical_Status\");\nconst getDataset2 = R.pluck(\"Attention_Required\");\n\nexport const maintenanceCenterList = async (city = \"London\") => {\n  try {\n    const { result } = await jsc8Client.executeRestql(\n      GET_TOP5_MAINTENANCE_CENTERS_FOR_CITY,\n      { City: city }\n    );\n    return result;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const telematicList = async () => {\n  try {\n    const { result } = await jsc8Client.executeRestql(GET_TELEMATICS_30_DAYS);\n    return result;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const assetDetails = async (Asset) => {\n  try {\n    const { result } = await jsc8Client.executeRestql(GET_ASSET_DETAILS, {\n      Asset,\n    });\n    return result;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const processBooking = async (payload) => {\n  try {\n    const { result } = await jsc8Client.executeRestql(\n      INSERT_UNPLANNED_MAINTENANCE,\n      payload\n    );\n    return result;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const insightList = async () => {\n  try {\n    const { result } = await jsc8Client.executeRestql(GET_TELEMATIC_INSIGHTS);\n    const [data] = result;\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const fleetStats = async () => {\n  try {\n    const { result } = await jsc8Client.executeRestql(GET_FLEET_STATS);\n    const [data] = result;\n    return data;\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const fleetChartData = async (filter = \"week\") => {\n  try {\n    const tdata = {\n      week: {},\n      year: {},\n      month: {},\n      all: {},\n    };\n    let { result } = await jsc8Client.executeRestql(GET_FLEET_STATS_CHART_DATA);\n    if (result) {\n      result = result.forEach((item) => {\n        if (item && item[\"last_week\"]) {\n          tdata[\"week\"][\"dataset1\"] = getDataset1(item[\"last_week\"]);\n          tdata[\"week\"][\"dataset2\"] = getDataset2(item[\"last_week\"]);\n          tdata[\"week\"][\"label\"] = R.pluck(\"Date\")(item[\"last_week\"]);\n        }\n        if (item && item[\"last_month\"]) {\n          item[\"last_month\"].sort(\n            (stat_1, stat_2) =>\n              moment(stat_1.Month, \"MMM-YYYY\").valueOf() -\n              moment(stat_2.Month, \"MMM-YYYY\").valueOf()\n          );\n          tdata[\"month\"][\"dataset1\"] = getDataset1(item[\"last_month\"]);\n          tdata[\"month\"][\"dataset2\"] = getDataset2(item[\"last_month\"]);\n          tdata[\"month\"][\"label\"] = R.pluck(\"Month\")(item[\"last_month\"]);\n        }\n        if (item && item[\"last_year\"]) {\n          tdata[\"year\"][\"dataset1\"] = getDataset1(item[\"last_year\"]);\n          tdata[\"year\"][\"dataset2\"] = getDataset2(item[\"last_year\"]);\n          tdata[\"year\"][\"label\"] = R.pluck(\"Year\")(item[\"last_year\"]);\n        }\n        // if(item && item['all']) {\n        //   tdata['all']['dataset1'] = getDataset1([item['all']]);\n        //   tdata['all']['dataset2'] = getDataset2([item['all']]);\n        // }\n      });\n    }\n    return tdata[filter];\n  } catch (error) {\n    console.error(error);\n    throw error;\n  }\n};\n\nexport const startStopStream = async (start = false) => {\n  try {\n    let steamsArr = STREAM_WORKERS;\n    if (start === false) {\n      steamsArr.reverse();\n    }\n    const streamPromises = [];\n    steamsArr.forEach((element) => {\n      streamPromises.push(jsc8Client.activateStreamApp(element, start));\n    });\n    await Promise.all(streamPromises);\n    return true;\n  } catch (error) {\n    console.error(\"Failed start ot stop strams\", error.message);\n    return false;\n  }\n};\n\nexport const createStreamReader = async (streamName, filters) => {\n  let response;\n  try {\n    response = await jsc8Client.createStreamReader(\n      streamName,\n      `${streamName}-${Math.round(Math.random() * 1000)}`,\n      false,\n      false,\n      config.gdnURL.replace(\"https://\", \"\"),\n      { filters }\n    );\n  } catch (error) {\n    console.error(error);\n  }\n  return response;\n};\n","import { useEffect, useRef } from \"react\";\n\nconst useInterval = (callback, delay) => {\n    const savedCallback = useRef();\n\n    useEffect(() => {\n        savedCallback.current = callback;\n    }, [callback]);\n\n    useEffect(() => {\n        const tick = () => {\n            savedCallback.current();\n        };\n\n        if (delay !== null) {\n            let id = setInterval(tick, delay);\n            return () => clearInterval(id);\n        }\n    }, [delay]);\n};\n\nexport default useInterval;","import Chart from \"chart.js/auto\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { Grid, makeStyles } from \"@material-ui/core\";\nimport ChartFilters from \"./ChartFilters\";\nimport { fleetChartData } from \"../services/streams\";\nimport useInterval from \"../hooks/useInterval\";\n\n// LineChart\n\nconst useStyles = makeStyles({\n  root: {\n    flexDirection: \"column\",\n    display: \"flex\",\n  },\n  securitiesSelect: {\n    width: \"12rem\",\n  },\n  selectGrid: {\n    paddingBottom: \"1rem\",\n  },\n  selectLabel: {\n    paddingRight: \"1rem\",\n    fontSize: \"1.5rem\",\n  },\n  chartCanvas: {\n    height: \"19.5rem\",\n  },\n  heading: {\n    margin: \"10px\",\n    fontSize: \"28px\",\n    fontWeight: 600,\n  },\n});\n\nconst LineChart = () => {\n  const canvasRef = useRef(null);\n  const classes = useStyles();\n  const [chartFilter, setChartFilter] = useState(\"week\");\n  const [chartData, setChartData] = useState({});\n\n  const initFleetChartData = async (filter) => {\n    const result = await fleetChartData(filter);\n    setChartData(result);\n  };\n\n  useEffect(() => {\n    initFleetChartData(chartFilter);\n  }, [chartFilter]);\n\n  useInterval(() => {\n    initFleetChartData(chartFilter);\n  }, 10000);\n\n  useEffect(() => {\n    const ch = initChart(chartData);\n    return () => {\n      ch.destroy();\n    };\n  }, [canvasRef.current, chartData]);\n\n  const initChart = (data) => {\n    const myChart = new Chart(canvasRef.current, {\n      type: \"line\",\n      options: {\n        maintainAspectRatio: false,\n        plugins: {\n          legend: {\n            display: false,\n          },\n        },\n        elements: {\n          point: {\n            radius: 1,\n          },\n        },\n        scales: {\n          x: {\n            grid: {\n              display: false,\n            },\n            // ticks: {\n            //     autoSkip: false,\n            // },\n          },\n          y: {\n            grid: {\n              display: false,\n            },\n            // ticks: {\n            //     autoSkip: false,\n            // },\n          },\n        },\n      },\n      data: {\n        labels: data.label,\n        datasets: [\n          {\n            label: \" Critical\",\n            data: data.dataset1,\n            borderColor: \"red\",\n            borderWidth: 2,\n          },\n          {\n            label: \" Attention\",\n            data: data.dataset2,\n            borderColor: \"#d8d800\",\n            borderWidth: 2,\n          },\n        ],\n      },\n    });\n    return myChart;\n  };\n\n  return (\n    <>\n      <div className={classes.root}>\n        <Grid container alignItems=\"center\">\n          <Grid item>\n            <div style={{ display: \"flex\" }}>\n              <span style={{ fontSize: 40 }}>🚚</span>\n              <h3 className={classes.heading}>Fleet Status</h3>\n            </div>\n          </Grid>\n        </Grid>\n        <div className={classes.chartCanvas}>\n          <canvas ref={canvasRef} />\n        </div>\n        <ChartFilters setChartFilter={setChartFilter} />\n      </div>\n    </>\n  );\n};\n\nexport default LineChart;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Paper,\n} from \"@material-ui/core\";\nimport ArrowDropUpIcon from \"@material-ui/icons/ArrowDropUp\";\nimport ArrowDropDownIcon from \"@material-ui/icons/ArrowDropDown\";\nimport { fleetStats } from \"../../services/streams\";\nimport useInterval from \"../../hooks/useInterval\";\n\nconst useStyles = makeStyles({\n  tableCell: {\n    padding: \"1.9px 10px\",\n    border: \"1px solid\",\n  },\n});\n\nexport default function FleetStatusTable() {\n  const classes = useStyles();\n  const [data, setData] = useState({});\n  const initFleetStats = async () => {\n    try {\n      const result = await fleetStats();\n      setData(result);\n    } catch (error) {\n      console.error(\"falied to load the insigths\", error.message);\n    }\n  };\n  useEffect(() => {\n    initFleetStats();\n  }, []);\n\n  useInterval(initFleetStats, 3000);\n\n  const tdata = {\n    Attention_Required: (\n      <>\n        Attention required <br /> (Last 7 days)\n      </>\n    ),\n    Critical_Status: (\n      <>\n        Critical Status <br /> (Last 7 days)\n      </>\n    ),\n    Fleet_Health: (\n      <>\n        Fleet Health <br /> (Last 7 days)\n      </>\n    ),\n    Unplanned_Maintenance: (\n      <>\n        Unplanned Maintenance <br /> (Last 7 days)\n      </>\n    ),\n    Planned_Maintenance: (\n      <>\n        Planned Maintenance <br /> (Next 7 days)\n      </>\n    ),\n  };\n\n  return (\n    <TableContainer component={Paper}>\n      <Table className={classes.table} aria-label=\"custom pagination table\">\n        <TableBody>\n          {Object.keys(tdata) &&\n            Object.keys(tdata).map((key, i) => (\n              <TableRow key={Math.random()}>\n                <TableCell className={classes.tableCell}>\n                  {tdata[key]}\n                </TableCell>\n                <TableCell\n                  className={classes.tableCell}\n                  style={{ width: \"50px\" }}\n                >\n                  {data && data[key] && data[key].arrow === \"Up\" ? (\n                    <ArrowDropUpIcon style={{ fontSize: 50 }} />\n                  ) : (\n                    <ArrowDropDownIcon style={{ fontSize: 50 }} />\n                  )}\n                </TableCell>\n                <TableCell className={classes.tableCell}>  \n                  <b\n                    style={{\n                      color: `${\n                        data && data[key] && data[key].arrow === \"Up\"\n                          ? \"green\"\n                          : \"red\"\n                      }`,\n                    }}\n                  >\n                    {data && data[key] && data[key][key]}\n                  </b>\n                </TableCell>\n              </TableRow>\n            ))}\n        </TableBody>\n      </Table>\n    </TableContainer>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  Paper,\n} from \"@material-ui/core\";\nimport { insightList } from \"../../services/streams\";\nimport useInterval from \"../../hooks/useInterval\";\n\nconst useStyles = makeStyles({\n  tableCell: {\n    padding: \"0.7rem\",\n    border: \"1px solid\",\n  },\n  heading: {\n    margin: \"10px\",\n    fontSize: \"28px\",\n    fontWeight: 400,\n  },\n});\n\nconst tdata = {\n  Vehicle_With_Most_Frequent_Issues: \"Vechicle with most frequent issue\",\n  Most_Common_Alert: \"Most Common Alert\",\n  Total_Cost_Of_Unplanned_Maintenance: \"Total Cost of Unplanned Maintenance\",\n  Area_With_Most_Alerts: \"Area with most Alerts\",\n  Least_Cost_Effective_Vehicle: \"Least Cost Effective Vehicle\",\n};\n\nexport default function InsightsTable() {\n  const classes = useStyles();\n  const [data, setData] = useState({});\n  const initInsightList = async () => {\n    try {\n      const result = await insightList();\n      setData(result);\n    } catch (error) {\n      console.error(\"falied to load the insigths\", error.message);\n    }\n  };\n  useEffect(() => {\n    initInsightList();\n  }, []);\n  useInterval(initInsightList, 3000);\n  return (\n    <>\n      <div style={{ display: \"flex\", marginBottom: \"10px\" }}>\n        <span style={{ fontSize: 40 }}>🔍</span>\n        <h3 className={classes.heading}> Insights</h3>\n      </div>\n      <TableContainer component={Paper}>\n        <Table className={classes.table} aria-label=\"custom pagination table\">\n          <TableBody>\n            {Object.keys(tdata) &&\n              Object.keys(tdata).map((key) => (\n                <TableRow key={Math.random()}>\n                  <TableCell className={classes.tableCell}>\n                    {tdata[key]}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    {data && data.hasOwnProperty(key) ? data[key] : \"-\"}\n                  </TableCell>\n                  <TableCell className={classes.tableCell}>\n                    investigate\n                  </TableCell>\n                </TableRow>\n              ))}\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </>\n  );\n}\n","import moment from \"moment\";\n\nexport const activeButtonClass = {\n  backgroundColor: \"#4b81c3\",\n  width: \"9rem\",\n  boxShadow: \"none\",\n  border: \"1px solid rgb(169,169,169)\",\n  color: \"#ffffff\",\n  borderRadius: 0,\n  \"&:hover\": {\n    backgroundColor: \"#4b81c3\",\n    color: \"#ffffff\",\n  },\n};\n\nexport const slicer = (arr, size) => {\n  var i,\n    j,\n    temparr = [],\n    chunk = size;\n  for (i = 0, j = arr.length; i < j; i += chunk) {\n    temparr.push(arr.slice(i, i + chunk));\n  }\n  return temparr;\n};\n\nexport const formatDate = (date) => {\n  var a = moment(date);\n  var b = moment();\n  return a.from(b); // \"a day ago\"\n};\n\nexport const printDate = (date) => {\n  if (date) return moment(date).format(\"D MMM YYYY\");\n  return;\n};\n\nexport const getRand = () => Math.floor(1000000 + Math.random() * 900000);\n\nexport const parseMessage = (msg) => {\n  const encodedMessage = JSON.parse(msg).payload;\n  const messageId = JSON.parse(msg).messageId;\n  const decodedMessage = atob(encodedMessage);\n\n  if (decodedMessage.length === 0) {\n    return { newData: {}, messageId };\n  }\n  const newData = JSON.parse(decodedMessage);\n  return { newData, messageId };\n};\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, Button } from \"@material-ui/core\";\nimport { activeButtonClass } from \"../../services/util\";\n\nconst useStyles = makeStyles((theme) => ({\n  actionButton: {\n    backgroundColor: \"#ffffff\",\n    width: \"9rem\",\n    boxShadow: \"none\",\n    border: \"1px solid rgb(169,169,169)\",\n    borderRadius: 0\n  },\n  activeActionButton: activeButtonClass,\n  root: {\n    display: 'flex',\n    \"& > *\": {\n      marginRight: '10px', //theme.spacing(2),\n      marginTop: \"0.6rem\",\n      flex: 1,\n      padding: '5px 0px'\n    },\n  },\n}));\n\nexport default function AlertFilters({stats, setAlterFilter}) {\n  const classes = useStyles();\n  const [selected, setSelected] = useState(\"all\");\n  const { all, critical, attention, booked, unbooked } = stats;\n  const computeClass = (val) =>\n    `${selected === val ? classes.activeActionButton : classes.actionButton}`;\n\n  useEffect(()=>{\n    setAlterFilter(selected);\n  },[selected])\n\n  return (\n    <>\n      <div className={classes.root}>\n        <Button\n          variant=\"outlined\"\n          onClick={() => setSelected(\"all\")}\n          className={computeClass(\"all\")}\n        >\n          All ({all})\n        </Button>\n        <Button\n          variant=\"outlined\"\n          onClick={() => setSelected(\"critical\")}\n          className={computeClass(\"critical\")}\n        >\n          Critical ({critical})\n        </Button>\n        <Button\n          variant=\"outlined\"\n          onClick={() => setSelected(\"attention\")}\n          className={computeClass(\"attention\")}\n        >\n          Attention ({attention})\n        </Button>\n        <Button\n          variant=\"outlined\"\n          onClick={() => setSelected(\"booked\")}\n          className={computeClass(\"booked\")}\n        >\n          Booked ({booked})\n        </Button>\n        <Button\n          variant=\"outlined\"\n          onClick={() => setSelected(\"unbooked\")}\n          className={computeClass(\"unbooked\")}\n        >\n          To be Booked ({unbooked})\n        </Button>\n      </div>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableRow,\n  TableHead,\n  Paper,\n  Button,\n} from \"@material-ui/core\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport AlertFilters from \"./AlertFilters\";\nimport {\n  activeButtonClass,\n  slicer,\n  formatDate,\n  printDate,\n} from \"../../services/util\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  root: {\n    paddingTop: \"1rem\",\n  },\n  pagination: {\n    borderRadius: \"none\",\n  },\n  activeActionButton: { ...activeButtonClass, width: \"4rem\" },\n  heading: {\n    margin: \"10px\",\n    fontSize: \"28px\",\n    fontWeight: 600,\n  },\n});\n\nexport default function AlertsTable({ alertsData, setOpenModal }) {\n  const classes = useStyles();\n  const [alertStats, setAlertStats] = useState({\n    all: 0,\n    critical: 0,\n    attention: 0,\n    booked: 0,\n  });\n  const [alertFilter, setAlterFilter] = useState(\"all\");\n  const [fdata, setFData] = useState([]);\n  const [odata, setOData] = useState([]);\n  const [tdata, setTData] = useState([]);\n  const [page, setPage] = React.useState(1);\n  const handleChange = (event, value) => {\n    setPage(value);\n  };\n\n  useEffect(() => {\n    let data = odata.filter((item) => {\n      let filter = alertFilter.toLowerCase();\n      if (filter === \"all\") return true;\n      if (filter === \"booked\") {\n        return item.Maintenance_Planned.toLowerCase() === \"yes\";\n      } else if (filter === \"unbooked\") {\n        return item.Maintenance_Planned.toLowerCase() === \"no\";\n      } else {\n        return item.Status_Level.toLowerCase() === filter;\n      }\n    });\n    const tempData = slicer(data, 8);\n    setFData(tempData);\n    setTData(tempData[(page - 1) | 0]);\n    tempData.length < page ? setPage(1) : setPage(page);\n  }, [alertFilter, odata]);\n\n  useEffect(() => {\n    setTData(fdata[page - 1]);\n  }, [page]);\n\n  useEffect(() => {\n    setOData(alertsData);\n  }, [alertsData]);\n\n  useEffect(() => {\n    let stats = {\n      all: odata.length,\n      critical: 0,\n      attention: 0,\n      booked: 0,\n      unbooked: 0,\n    };\n    odata.forEach((item) => {\n      if (item.Maintenance_Planned.toLowerCase() === \"yes\") stats.booked += 1;\n      if (item.Maintenance_Planned.toLowerCase() === \"no\") stats.unbooked += 1;\n      if (item.Status_Level.toLowerCase() === \"critical\") stats.critical += 1;\n      if (item.Status_Level.toLowerCase() === \"attention\") stats.attention += 1;\n    });\n    setAlertStats(stats);\n  }, [odata]);\n\n  return (\n    <>\n      <div style={{ display: \"flex\" }}>\n        <span style={{ fontSize: 40 }}>🔔</span>\n        <h3 className={classes.heading}>Alerts</h3>\n      </div>\n      <AlertFilters stats={alertStats} setAlterFilter={setAlterFilter} />\n      <div className={classes.root}>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell style={{ width: \"5rem\" }}>Vehicle ID</TableCell>\n                <TableCell align=\"center\">Alert &nbsp; Description</TableCell>\n                <TableCell align=\"center\">Date &nbsp; Logged</TableCell>\n                <TableCell align=\"center\">Status level</TableCell>\n                <TableCell align=\"center\">Maintenance &nbsp; Planned</TableCell>\n                <TableCell align=\"center\" style={{ width: \"5rem\" }}>\n                  Action\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {tdata &&\n                tdata.map((row, i) => (\n                  <TableRow\n                    key={Math.random()}\n                    style={i % 2 ? { background: \"rgb(208 225 243)\" } : {}}\n                  >\n                    <TableCell align=\"center\">{row.Asset}</TableCell>\n                    <TableCell align=\"center\">{row.Fault}</TableCell>\n                    <TableCell align=\"center\">\n                      {formatDate(row.Timestamp)}\n                    </TableCell>\n                    <TableCell\n                      align=\"center\"\n                      style={{\n                        color: `${\n                          row.Status_Level === \"Critical\" ? \"red\" : \"\"\n                        }`,\n                      }}\n                    >\n                      {row.Status_Level}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {row.Maintenance_Planned}\n                    </TableCell>\n                    <TableCell align=\"center\">\n                      {row.Maintenance_Planned.toLowerCase() === \"yes\" ? (\n                        <>\n                          Booked\n                          <br />\n                          {printDate(row.Booked_In)}\n                        </>\n                      ) : (\n                        <Button\n                          variant=\"contained\"\n                          color=\"primary\"\n                          className={classes.activeActionButton}\n                          style={{ padding: \"0px\" }}\n                          onClick={() =>\n                            setOpenModal({ status: true, data: row })\n                          }\n                        >\n                          Book\n                        </Button>\n                      )}\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n          <Pagination\n            className={classes.pagination}\n            count={fdata.length}\n            showFirstButton\n            showLastButton\n            page={page}\n            onChange={handleChange}\n          />\n        </TableContainer>\n      </div>\n    </>\n  );\n}\n","import jsC8 from \"jsc8\";\nimport config from \"../services/config\";\nimport {\n  TRUNCATE_DATASETS,\n  LOAD_DATASETS,\n  ON_READY,\n  IS_DEMO_READY,\n} from \"../util/constants\";\nimport { startStopStream } from \"./streams\";\n\nconst jsc8Client = new jsC8({\n  url: config.gdnURL,\n  apiKey: `${config.apiKey}`,\n  fabricName: config.fabricName,\n});\n\nexport const intialize = async (callback) => {\n  try {\n    await onReady(false);\n    await startStopStream();\n    await truncateCollections();\n    await loadDataCollections();\n    await onReady(true);\n    callback(false);\n  } catch (error) {\n    console.error(\"Failed to intialize\", error.message);\n    callback(false);\n  }\n};\n\nconst truncateCollections = async () => {\n  try {\n    const promises = TRUNCATE_DATASETS.map((collection) =>\n      jsc8Client.collection(collection).truncate()\n    );\n    await Promise.all(promises);\n  } catch (error) {\n    console.error(\"Failed to truncate\", error.message);\n  }\n};\n\nconst loadDataCollections = async () => {\n  try {\n    const promises = LOAD_DATASETS.slice(0, 2).map((collection) =>\n      jsc8Client.executeRestql(collection)\n    );\n    await Promise.all(promises);\n    await jsc8Client.executeRestql(LOAD_DATASETS[2]);\n    const tpromises = LOAD_DATASETS.slice(3).map((collection) =>\n      jsc8Client.executeRestql(collection)\n    );\n    await Promise.all(tpromises);\n  } catch (error) {\n    console.error(\"Failed to load\", error.message);\n  }\n};\n\nexport const onReady = async (status) => {\n  try {\n    await jsc8Client.executeRestql(ON_READY, { status });\n  } catch (error) {\n    console.error(\"Failed to onReady\", error.message);\n  }\n};\n\nexport const isDemoReady = async () => {\n  try {\n    const response = await jsc8Client.executeRestql(IS_DEMO_READY);\n    const { result } = response;\n    const [demo] = result;\n    return (demo && demo.ready) || false;\n  } catch (error) {\n    console.error(\"Failed to onReady\", error.message);\n    return false;\n  }\n};\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n  Table,\n  TableBody,\n  TableCell,\n  TableContainer,\n  TableHead,\n  TableRow,\n  Paper,\n  Typography,\n  Button\n} from \"@material-ui/core\";\n// import DatePicker from \"../DatePicker\";\nimport { maintenanceCenterList } from '../../services/streams'\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport { activeButtonClass } from \"../../services/util\";\n\nconst useStyles = makeStyles({\n  table: {\n    minWidth: 650,\n  },\n  activeActionButton: { ...activeButtonClass, width: \"5rem\" },\n  pagination: {\n    borderRadius: \"none\",\n  },\n});\n\nexport default function ModalTable({handleSelect, alertData}) {\n  const classes = useStyles();\n  // const [selectedDate, ] = useState(\"06/15/2021\");\n  const [selectedCenter, setSelectedCenter] = useState({});\n  const [data, setData] = useState([]);\n  const [focus, setFocus] = useState(false);\n\n  const initMaintenanceCenterList = async(city) => {\n    try {      \n      const results = await maintenanceCenterList(city);\n      setData(results)\n    } catch (error) {\n      console.error('falied to load maintenace centers', error.message)\n    }\n  }\n\n  const component = useRef(null)\n\n  const toggle = (data) => {\n    setSelectedCenter(data);\n    component.current.setOpen(true);\n    setFocus(!focus)\n  }\n\n  const handleChange = (date) => {\n    handleSelect({date, maintenaceData:selectedCenter})\n  }\n\n  useEffect(()=>{\n    const { City } = alertData;\n    initMaintenanceCenterList(City);\n    document.querySelector(\".react-datepicker-wrapper\").style.visibility = \"hidden\";\n    document.querySelector(\".react-datepicker-wrapper\").style.width = \"64px\";\n  },[])\n  \n  return (\n    <>\n      <Typography component={\"div\"} className={classes.root}>\n        <TableContainer component={Paper}>\n          <Table className={classes.table} aria-label=\"simple table\">\n            <TableHead>\n              <TableRow>\n                <TableCell>Maintenance Center</TableCell>\n                <TableCell align=\"center\">Rating</TableCell>\n                <TableCell align=\"center\">City</TableCell>\n                <TableCell align=\"center\">Estimated Time</TableCell>\n                <TableCell align=\"center\">Estimated Cost</TableCell>\n                <TableCell align=\"center\">Select\n                <DatePicker\n                  minDate={new Date()}\n                  ref={(r) => {\n                    component.current = r;\n                  }}\n                  onChange={handleChange}\n                />\n                </TableCell>\n              </TableRow>\n            </TableHead>\n            <TableBody>\n              {data &&\n                data.map((row, i) => (\n                  <TableRow\n                    key={Math.random()}\n                    style={i % 2 ? { background: \"rgb(208 225 243)\" } : {}}\n                  >\n                    <TableCell align=\"center\">\n                      {row.Name}\n                    </TableCell>\n                    <TableCell align=\"center\">{row.Rating}/5.0</TableCell>\n                    <TableCell align=\"center\">{row.City}</TableCell>\n                    <TableCell align=\"center\">{row.Estimated_Time}  {row.Estimated_Time === 1? 'Day': 'Days'}</TableCell>\n                    <TableCell align=\"center\">${row.Estimated_Cost}</TableCell>\n                    <TableCell align=\"center\">\n                      {/* <DatePicker\n                        key={Math.random()}\n                        onDateChange={(date) => {\n                          handleSelect({date, maintenaceData:row})\n                        }}\n                        initialDate={selectedDate}\n                      /> */} \n                      <Button\n                       variant=\"contained\"\n                       color=\"primary\"\n                       style={{padding:'0px'}}\n                       className={classes.activeActionButton} \n                      onClick={() => toggle(row)}>Select</Button>\n                    </TableCell>\n                  </TableRow>\n                ))}\n            </TableBody>\n          </Table>\n        </TableContainer>\n        \n      </Typography>\n    </>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n} from \"@material-ui/core\";\nimport ModalTable from \"./tables/ModalTable\";\nimport CancelPresentationIcon from \"@material-ui/icons/CancelPresentation\";\n\nlet closeImg = {\n  cursor: \"pointer\",\n  float: \"right\",\n  marginTop: \"5px\",\n  width: \"50px\",\n};\n\nexport default React.memo(function ModalComponent(props) {\n  const { openModal, closeModal, handleSelect } = props;\n  const [open, setOpen] = React.useState(false);\n  const [modalData, setModalData] = useState({\n    status: false,\n    data: {},\n  });\n\n  useEffect(() => {\n    setOpen(openModal.status);\n    setModalData(openModal.data);\n  }, [openModal.status]);\n\n  const handleClose = () => {\n    setOpen(false);\n    closeModal();\n  };\n\n  const handleSelectDate = (data) => {\n    setOpen(false);\n    closeModal();\n    handleSelect({ ...data, _key: modalData._key, data: modalData });\n  };\n  const { Asset } = modalData;\n\n  return (\n    <React.Fragment>\n      <Dialog\n        fullWidth={true}\n        maxWidth=\"md\"\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"max-width-dialog-title\"\n      >\n        <DialogTitle id=\"max-width-dialog-title\">\n          {Asset}\n          <CancelPresentationIcon\n            fontSize=\"large\"\n            onClick={handleClose}\n            style={closeImg}\n          />\n        </DialogTitle>\n        <DialogContent>\n          <DialogContentText>\n            <ModalTable alertData={modalData} handleSelect={(data) => handleSelectDate(data)} />\n          </DialogContentText>\n        </DialogContent>\n      </Dialog>\n    </React.Fragment>\n  );\n})\n","import React, { useState, useEffect } from \"react\";\nimport { Container, makeStyles, Grid, Paper } from \"@material-ui/core\";\nimport Header from \"./Header\";\nimport ButtonBar from \"./ButtonBar\";\nimport Footer from \"./Footer\";\nimport LineChart from \"./LineChart\";\nimport FleetStatusTable from \"./tables/FleetStatusTable\";\nimport InsightsTable from \"./tables/InsightsTable\";\nimport AlertsTable from \"./tables/AlertsTable\";\nimport { intialize, isDemoReady } from \"../services/restql\";\nimport {\n  startStopStream,\n  createStreamReader,\n  telematicList,\n  assetDetails,\n  processBooking,\n} from \"../services/streams\";\nimport { parseMessage, getRand } from \"../services/util\";\nimport { ENRICHTED_TELEMATICS } from \"../util/constants\";\nimport ModalComponent from \"./ModalComponent\";\n\nconst useStyles = makeStyles({\n  root: {\n    backgroundColor: \"#F1F2F4\",\n    minHeight: \"100vh\",\n    padding: \"0\",\n  },\n  aboutButton: {\n    top: \"1.1rem\",\n    right: \"2rem\",\n    position: \"absolute\",\n    backgroundColor: \"rgb(208 225 243)\",\n    boxShadow: \"none\",\n    border: \"1px solid rgb(169,169,169)\",\n  },\n});\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [isStreamStarted, setIsStreamStarted] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isStopLoading, setIsStopLoading] = useState(false);\n  const [isIntializeLoading, setIsIntializeLoading] = useState(false);\n  const [isStartButtonDisabled, setIsStartButtonDisabled] = useState(true);\n  const [streamConnections, setStreamConnections] = useState([]);\n  const [alertsData, setAlertsData] = useState([]);\n  const [openModal, setOpenModal] = useState({ status: false, data: {} });\n\n  const handleClose = (event) => {\n    event.preventDefault();\n    handleOnStop();\n    // This is opening alert message\n    event.returnValue = \"\";\n    return \"\";\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", handleClose);\n    return () => {\n      window.removeEventListener(\"beforeunload\", handleClose);\n    };\n  }, []);\n\n  const initDemoReady = async () => {\n    const isReady = await isDemoReady();\n    if (!isReady) setAlertsData([]);\n    setIsStartButtonDisabled(!isReady);\n  };\n\n  const handleBooking = (data) => {\n    let tdata = alertsData.map((item) => {\n      if (item._key === data._key) {\n        item.Maintenance_Planned = \"Yes\";\n        const date = new Date(data.date);\n        item.Booked_In = date.toISOString();\n      }\n      return item;\n    });\n    setAlertsData(tdata);\n    initAssetDetails(data);\n  };\n\n  const initAssetDetails = async (data) => {\n    try {\n      const { Asset, Fault } = data.data;\n      const { date, maintenaceData } = data;\n      const [asetDetail] = await assetDetails(Asset);\n      const { Driver, Vehicle_Model } = asetDetail;\n      const { Estimated_Cost: Work_Cost } = maintenaceData;\n      const tdate = new Date(date);\n      const payload = {\n        Asset,\n        Booked_In: tdate.toISOString(),\n        Invoice_Number: getRand(),\n        Cost_Center: getRand(),\n        Vehicle_Model,\n        Driver,\n        Work_Description: Fault,\n        Work_Cost,\n      };\n      await processBooking(payload);\n    } catch (error) {\n      console.error(\"Failed to book maintenance\", error.message);\n    }\n  };\n\n  useEffect(() => {\n    initDemoReady();\n  }, [isLoading, isStopLoading, isIntializeLoading]);\n\n  //button callback for all the rest\n  const handleOnStart = () => {\n    setIsLoading(true);\n    startStreamAndWebSocket();\n  };\n  const handleOnStop = () => {\n    setIsStopLoading(true);\n    closeStreamAndWebSocket();\n  };\n  const handleOnIntialize = async () => {\n    setIsIntializeLoading(true);\n    await intialize(setIsIntializeLoading);\n  };\n\n  const initTelematicList = async () => {\n    try {\n      const results = await telematicList();\n      let data = [...results];\n      data = data\n        .filter((item) => item)\n        .filter((item) => Object.keys(item).length > 0);\n      data = [...new Map(data.map((item) => [item._key, item])).values()];\n      setAlertsData(data);\n    } catch (error) {\n      console.error(\"falied to load maintenace centers\", error.message);\n    }\n  };\n\n  useEffect(() => {\n    if (!isIntializeLoading) {\n      initTelematicList();\n    }\n  }, [isIntializeLoading]);\n\n  // useEffect(() => {\n  //   setInterval(() => {\n  //     initTelematicList();\n  //   }, 5000);\n  // }, []);\n\n  const closeStreamAndWebSocket = async () => {\n    try {\n      for (const elements of streamConnections) {\n        await elements.terminate();\n      }\n      const response = await startStopStream();\n      if (response) {\n        setIsStreamStarted(false);\n      }\n      setIsStopLoading(false);\n    } catch (error) {\n      console.error(\"Failed to close steam and webscoker\", error.message);\n    }\n  };\n\n  const startStreamAndWebSocket = async () => {\n    try {\n      const response = await startStopStream(true);\n      if (response) {\n        const alertsStreamConnection = await establishConnectionForFree(\n          ENRICHTED_TELEMATICS\n        );\n        setStreamConnections((prev) => [\n          ...streamConnections,\n          alertsStreamConnection,\n        ]);\n        setIsStreamStarted(true);\n      }\n      setIsLoading(false);\n    } catch (error) {\n      console.error(\"Failed to close steam and webscoket\", error.message);\n    }\n  };\n\n  const establishConnectionForFree = async (streamName) => {\n    try {\n      const _consumer = await createStreamReader(streamName);\n      _consumer.on(\"open\", () =>\n        console.info(`Connection open for ${streamName}`)\n      );\n      _consumer.on(\"error\", (error) =>\n        console.error(`Connection error for ${streamName}`, error)\n      );\n      _consumer.on(\"close\", () =>\n        console.info(`Connection close for ${streamName}`)\n      );\n\n      _consumer.on(\"message\", (message) => {\n        _consumer.send(\n          JSON.stringify({ messageId: JSON.parse(message).messageId })\n        );\n\n        messageManipulation(message, ENRICHTED_TELEMATICS);\n      });\n      return _consumer;\n    } catch (error) {\n      console.error(\"error\", error);\n    }\n  };\n\n  const messageManipulation = (message, streamName) => {\n    let tempArr = [];\n    const { newData = {} } = parseMessage(message);\n    if (!newData || Object.keys(newData).length === 0) {\n      return;\n    }\n    newData[\"_key\"] = getRand();\n    tempArr.push(newData);\n    setAlertsData((prev) => [...tempArr, ...prev]);\n  };\n\n  return (\n    <>\n      <Container className={classes.root} maxWidth={false}>\n        <Header />\n        <ButtonBar\n          handleOnClear={handleOnIntialize}\n          handleOnStart={handleOnStart}\n          handleOnStop={handleOnStop}\n          isStartButtonDisabled={isLoading}\n          isStopButtonDisabled={isStopLoading}\n          isClearButtonDisabled={isIntializeLoading}\n          isStreamStarted={isStreamStarted}\n        />\n\n        <Grid container alignItems=\"flex-start\">\n          {/* Fleet Stats & Insights */}\n          <Grid item xs={6}>\n            <Paper\n              style={{ margin: \"0.75rem\", padding: \"0.75rem 2rem 2rem 2rem\" }}\n            >\n              <Grid container alignItems=\"flex-start\">\n                <Grid item xs={6} style={{ paddingRight: \"2rem\" }}>\n                  <LineChart />\n                </Grid>\n                <Grid item xs={6} style={{ marginTop: \"4rem\" }}>\n                  <FleetStatusTable />\n                </Grid>\n                <Grid item xs={12} style={{ marginTop: \"1rem\" }}>\n                  <InsightsTable />\n                </Grid>\n              </Grid>\n            </Paper>\n          </Grid>\n          {/* Alerts table */}\n          <Grid item xs={6}>\n            <Paper\n              style={{ margin: \"0.75rem\", padding: \"0.75rem 2rem 2rem 2rem\" }}\n            >\n              <AlertsTable\n                alertsData={alertsData}\n                setOpenModal={setOpenModal}\n              />\n            </Paper>\n          </Grid>\n        </Grid>\n\n        <ModalComponent\n          openModal={openModal}\n          closeModal={() => setOpenModal({ status: false, data: { id: 0 } })}\n          handleSelect={(data) => handleBooking(data)}\n        />\n        <Footer />\n      </Container>\n    </>\n  );\n};\n\nexport default Dashboard;\n","import { createMuiTheme, ThemeProvider } from \"@material-ui/core\";\nimport Dashboard from \"./app/components/Dashboard\";\n\nconst theme = createMuiTheme({\n  typography: {\n    fontFamily: [\"Lato\", \"sans-serif\"].join(\",\"),\n  },\n  overrides: {\n    MuiTableCell: {\n      root: {\n        padding: \"0.8rem\",\n      },\n      stickyHeader: {\n        backgroundColor: \"#d0e0f3\",\n      },\n      head: {\n        color: \"#ffffff\",\n        fontWeight: 900,\n      },\n    },\n    MuiTypography: {\n      root: {\n        fontWeight: \"600 !important\",\n      },\n    },\n    MuiButton: {\n      contained: {\n        backgroundColor: \"#E1E1FA\",\n        boxShadow: \"none\",\n        color: \"#4D4DAD\",\n        \"&:hover, &:focus, &:active\": {\n          backgroundColor: \"#C2C2F5\",\n          boxShadow: \"0 2px 5px rgba(133, 133, 235, .35)\",\n          color: \"#343473\",\n        },\n        \"&:disabled\": {\n          backgroundColor: \"#E2E4E8\",\n          color: \"#535968\",\n        },\n      },\n      containedPrimary: {\n        backgroundColor: \"#6767E6\",\n        color: \"#FFF\",\n        \"&:hover, &:focus, &:active\": {\n          backgroundColor: \"#4D4DAD\",\n          color: \"#FFF\",\n        },\n      },\n      label: {\n        textTransform: \"capitalize\",\n        fontWeight: \"700\",\n      },\n    },\n    MuiFormControl: {\n      root: {\n        height: \"56px\",\n      },\n    },\n    MuiInputLabel: {\n      outlined: {\n        transform: \"translate(14px, 0.7rem) scale(1)\",\n      },\n    },\n    MuiOutlinedInput: {\n      input: {\n        padding: \"0.65rem 14px\",\n      },\n    },\n    MuiPaginationItem: {\n      root: {\n        borderRadius: \"0px\",\n      },\n      page: {\n        padding: \"23px\",\n        \"&$selected\": {\n          backgroundColor: \"#4b81c3\",\n          color: \"#ffffff\",\n          \"&:hover\": {\n            backgroundColor: \"#4b81c3\",\n            color: \"#ffffff\",\n          },\n        },\n        \"&:hover\": {\n          backgroundColor: \"#4b81c3\",\n          color: \"#ffffff\",\n        },\n      },\n    },\n    MuiToggleButton: {\n      root: {\n        \"&$selected\": {\n          backgroundColor: \"#4b81c3\",\n          color: \"#ffffff\",\n          \"&:hover\": {\n            backgroundColor: \"#4b81c3\",\n            color: \"#ffffff\",\n          },\n        },\n        \"&:hover\": {\n          backgroundColor: \"#4b81c3\",\n          color: \"#ffffff\",\n        },\n      },\n    },\n    MuiTableHead: {\n      root: {\n        backgroundColor: \"#4b81c3\",\n      },\n    },\n    MuiTableContainer: {\n      root: {\n        overflowX: \"inherit\",\n      },\n    },\n  },\n});\n\nconst App = () => {\n  return (\n    <>\n      <ThemeProvider theme={theme}>\n        <Dashboard />\n      </ThemeProvider>\n    </>\n  );\n};\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}